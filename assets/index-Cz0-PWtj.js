(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ov(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xf={exports:{}},Po={},Zf={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ks=Symbol.for("react.element"),av=Symbol.for("react.portal"),lv=Symbol.for("react.fragment"),uv=Symbol.for("react.strict_mode"),cv=Symbol.for("react.profiler"),dv=Symbol.for("react.provider"),hv=Symbol.for("react.context"),fv=Symbol.for("react.forward_ref"),pv=Symbol.for("react.suspense"),mv=Symbol.for("react.memo"),gv=Symbol.for("react.lazy"),rd=Symbol.iterator;function yv(e){return e===null||typeof e!="object"?null:(e=rd&&e[rd]||e["@@iterator"],typeof e=="function"?e:null)}var ep={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tp=Object.assign,np={};function Or(e,t,n){this.props=e,this.context=t,this.refs=np,this.updater=n||ep}Or.prototype.isReactComponent={};Or.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Or.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rp(){}rp.prototype=Or.prototype;function wu(e,t,n){this.props=e,this.context=t,this.refs=np,this.updater=n||ep}var _u=wu.prototype=new rp;_u.constructor=wu;tp(_u,Or.prototype);_u.isPureReactComponent=!0;var sd=Array.isArray,sp=Object.prototype.hasOwnProperty,Su={current:null},ip={key:!0,ref:!0,__self:!0,__source:!0};function op(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)sp.call(t,r)&&!ip.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ks,type:e,key:i,ref:o,props:s,_owner:Su.current}}function vv(e,t){return{$$typeof:Ks,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ks}function wv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var id=/\/+/g;function Zo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wv(""+e.key):t.toString(36)}function Ri(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ks:case av:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Zo(o,0):r,sd(s)?(n="",e!=null&&(n=e.replace(id,"$&/")+"/"),Ri(s,t,n,"",function(u){return u})):s!=null&&(xu(s)&&(s=vv(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(id,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",sd(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Zo(i,a);o+=Ri(i,t,n,l,s)}else if(l=yv(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Zo(i,a++),o+=Ri(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function si(e,t,n){if(e==null)return e;var r=[],s=0;return Ri(e,r,"","",function(i){return t.call(n,i,s++)}),r}function _v(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var je={current:null},ji={transition:null},Sv={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:ji,ReactCurrentOwner:Su};function ap(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:si,forEach:function(e,t,n){si(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return si(e,function(){t++}),t},toArray:function(e){return si(e,function(t){return t})||[]},only:function(e){if(!xu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$.Component=Or;$.Fragment=lv;$.Profiler=cv;$.PureComponent=wu;$.StrictMode=uv;$.Suspense=pv;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sv;$.act=ap;$.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=tp({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Su.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)sp.call(t,l)&&!ip.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ks,type:e.type,key:s,ref:i,props:r,_owner:o}};$.createContext=function(e){return e={$$typeof:hv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dv,_context:e},e.Consumer=e};$.createElement=op;$.createFactory=function(e){var t=op.bind(null,e);return t.type=e,t};$.createRef=function(){return{current:null}};$.forwardRef=function(e){return{$$typeof:fv,render:e}};$.isValidElement=xu;$.lazy=function(e){return{$$typeof:gv,_payload:{_status:-1,_result:e},_init:_v}};$.memo=function(e,t){return{$$typeof:mv,type:e,compare:t===void 0?null:t}};$.startTransition=function(e){var t=ji.transition;ji.transition={};try{e()}finally{ji.transition=t}};$.unstable_act=ap;$.useCallback=function(e,t){return je.current.useCallback(e,t)};$.useContext=function(e){return je.current.useContext(e)};$.useDebugValue=function(){};$.useDeferredValue=function(e){return je.current.useDeferredValue(e)};$.useEffect=function(e,t){return je.current.useEffect(e,t)};$.useId=function(){return je.current.useId()};$.useImperativeHandle=function(e,t,n){return je.current.useImperativeHandle(e,t,n)};$.useInsertionEffect=function(e,t){return je.current.useInsertionEffect(e,t)};$.useLayoutEffect=function(e,t){return je.current.useLayoutEffect(e,t)};$.useMemo=function(e,t){return je.current.useMemo(e,t)};$.useReducer=function(e,t,n){return je.current.useReducer(e,t,n)};$.useRef=function(e){return je.current.useRef(e)};$.useState=function(e){return je.current.useState(e)};$.useSyncExternalStore=function(e,t,n){return je.current.useSyncExternalStore(e,t,n)};$.useTransition=function(){return je.current.useTransition()};$.version="18.3.1";Zf.exports=$;var T=Zf.exports;const xv=ov(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv=T,Ev=Symbol.for("react.element"),Tv=Symbol.for("react.fragment"),bv=Object.prototype.hasOwnProperty,Pv=kv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cv={key:!0,ref:!0,__self:!0,__source:!0};function lp(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)bv.call(t,r)&&!Cv.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Ev,type:e,key:i,ref:o,props:s,_owner:Pv.current}}Po.Fragment=Tv;Po.jsx=lp;Po.jsxs=lp;Xf.exports=Po;var _=Xf.exports,Xa={},up={exports:{}},qe={},cp={exports:{}},dp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,L){var M=C.length;C.push(L);e:for(;0<M;){var re=M-1>>>1,pe=C[re];if(0<s(pe,L))C[re]=L,C[M]=pe,M=re;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var L=C[0],M=C.pop();if(M!==L){C[0]=M;e:for(var re=0,pe=C.length,ni=pe>>>1;re<ni;){var hn=2*(re+1)-1,Xo=C[hn],fn=hn+1,ri=C[fn];if(0>s(Xo,M))fn<pe&&0>s(ri,Xo)?(C[re]=ri,C[fn]=M,re=fn):(C[re]=Xo,C[hn]=M,re=hn);else if(fn<pe&&0>s(ri,M))C[re]=ri,C[fn]=M,re=fn;else break e}}return L}function s(C,L){var M=C.sortIndex-L.sortIndex;return M!==0?M:C.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,m=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(C){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=C)r(u),L.sortIndex=L.expirationTime,t(l,L);else break;L=n(u)}}function S(C){if(v=!1,g(C),!y)if(n(l)!==null)y=!0,ti(x);else{var L=n(u);L!==null&&ue(S,L.startTime-C)}}function x(C,L){y=!1,v&&(v=!1,f(E),E=-1),m=!0;var M=h;try{for(g(L),d=n(l);d!==null&&(!(d.expirationTime>L)||C&&!fe());){var re=d.callback;if(typeof re=="function"){d.callback=null,h=d.priorityLevel;var pe=re(d.expirationTime<=L);L=e.unstable_now(),typeof pe=="function"?d.callback=pe:d===n(l)&&r(l),g(L)}else r(l);d=n(l)}if(d!==null)var ni=!0;else{var hn=n(u);hn!==null&&ue(S,hn.startTime-L),ni=!1}return ni}finally{d=null,h=M,m=!1}}var k=!1,b=null,E=-1,I=5,D=-1;function fe(){return!(e.unstable_now()-D<I)}function Mt(){if(b!==null){var C=e.unstable_now();D=C;var L=!0;try{L=b(!0,C)}finally{L?dn():(k=!1,b=null)}}else k=!1}var dn;if(typeof p=="function")dn=function(){p(Mt)};else if(typeof MessageChannel<"u"){var Mr=new MessageChannel,nd=Mr.port2;Mr.port1.onmessage=Mt,dn=function(){nd.postMessage(null)}}else dn=function(){w(Mt,0)};function ti(C){b=C,k||(k=!0,dn())}function ue(C,L){E=w(function(){C(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,ti(x))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var M=h;h=L;try{return C()}finally{h=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,L){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var M=h;h=C;try{return L()}finally{h=M}},e.unstable_scheduleCallback=function(C,L,M){var re=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?re+M:re):M=re,C){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=M+pe,C={id:c++,callback:L,priorityLevel:C,startTime:M,expirationTime:pe,sortIndex:-1},M>re?(C.sortIndex=M,t(u,C),n(l)===null&&C===n(u)&&(v?(f(E),E=-1):v=!0,ue(S,M-re))):(C.sortIndex=pe,t(l,C),y||m||(y=!0,ti(x))),C},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(C){var L=h;return function(){var M=h;h=L;try{return C.apply(this,arguments)}finally{h=M}}}})(dp);cp.exports=dp;var Av=cp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv=T,Ke=Av;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hp=new Set,gs={};function Mn(e,t){xr(e,t),xr(e+"Capture",t)}function xr(e,t){for(gs[e]=t,e=0;e<t.length;e++)hp.add(t[e])}var Rt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=Object.prototype.hasOwnProperty,jv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,od={},ad={};function Ov(e){return Za.call(ad,e)?!0:Za.call(od,e)?!1:jv.test(e)?ad[e]=!0:(od[e]=!0,!1)}function Nv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Iv(e,t,n,r){if(t===null||typeof t>"u"||Nv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oe(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xe[e]=new Oe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xe[t]=new Oe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xe[e]=new Oe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xe[e]=new Oe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xe[e]=new Oe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xe[e]=new Oe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xe[e]=new Oe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xe[e]=new Oe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xe[e]=new Oe(e,5,!1,e.toLowerCase(),null,!1,!1)});var ku=/[\-:]([a-z])/g;function Eu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ku,Eu);xe[t]=new Oe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ku,Eu);xe[t]=new Oe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ku,Eu);xe[t]=new Oe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xe[e]=new Oe(e,1,!1,e.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xe[e]=new Oe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tu(e,t,n,r){var s=xe.hasOwnProperty(t)?xe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Iv(t,n,s,r)&&(n=null),r||s===null?Ov(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Dt=Rv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ii=Symbol.for("react.element"),Qn=Symbol.for("react.portal"),Xn=Symbol.for("react.fragment"),bu=Symbol.for("react.strict_mode"),el=Symbol.for("react.profiler"),fp=Symbol.for("react.provider"),pp=Symbol.for("react.context"),Pu=Symbol.for("react.forward_ref"),tl=Symbol.for("react.suspense"),nl=Symbol.for("react.suspense_list"),Cu=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),mp=Symbol.for("react.offscreen"),ld=Symbol.iterator;function $r(e){return e===null||typeof e!="object"?null:(e=ld&&e[ld]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Object.assign,ea;function qr(e){if(ea===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ea=t&&t[1]||""}return`
`+ea+e}var ta=!1;function na(e,t){if(!e||ta)return"";ta=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{ta=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qr(e):""}function Dv(e){switch(e.tag){case 5:return qr(e.type);case 16:return qr("Lazy");case 13:return qr("Suspense");case 19:return qr("SuspenseList");case 0:case 2:case 15:return e=na(e.type,!1),e;case 11:return e=na(e.type.render,!1),e;case 1:return e=na(e.type,!0),e;default:return""}}function rl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xn:return"Fragment";case Qn:return"Portal";case el:return"Profiler";case bu:return"StrictMode";case tl:return"Suspense";case nl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pp:return(e.displayName||"Context")+".Consumer";case fp:return(e._context.displayName||"Context")+".Provider";case Pu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cu:return t=e.displayName||null,t!==null?t:rl(e.type)||"Memo";case Vt:t=e._payload,e=e._init;try{return rl(e(t))}catch{}}return null}function Lv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rl(t);case 8:return t===bu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mv(e){var t=gp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oi(e){e._valueTracker||(e._valueTracker=Mv(e))}function yp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=gp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ki(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sl(e,t){var n=t.checked;return Z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ud(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=nn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vp(e,t){t=t.checked,t!=null&&Tu(e,"checked",t,!1)}function il(e,t){vp(e,t);var n=nn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ol(e,t.type,n):t.hasOwnProperty("defaultValue")&&ol(e,t.type,nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ol(e,t,n){(t!=="number"||Ki(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gr=Array.isArray;function mr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+nn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function al(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return Z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(Gr(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:nn(n)}}function wp(e,t){var n=nn(t.value),r=nn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function hd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _p(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ll(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_p(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ai,Sp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ai=ai||document.createElement("div"),ai.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ai.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ys(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$v=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(e){$v.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ts[t]=ts[e]})});function xp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ts.hasOwnProperty(e)&&ts[e]?(""+t).trim():t+"px"}function kp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=xp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Uv=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ul(e,t){if(t){if(Uv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function cl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dl=null;function Au(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hl=null,gr=null,yr=null;function fd(e){if(e=Gs(e)){if(typeof hl!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Oo(t),hl(e.stateNode,e.type,t))}}function Ep(e){gr?yr?yr.push(e):yr=[e]:gr=e}function Tp(){if(gr){var e=gr,t=yr;if(yr=gr=null,fd(e),t)for(e=0;e<t.length;e++)fd(t[e])}}function bp(e,t){return e(t)}function Pp(){}var ra=!1;function Cp(e,t,n){if(ra)return e(t,n);ra=!0;try{return bp(e,t,n)}finally{ra=!1,(gr!==null||yr!==null)&&(Pp(),Tp())}}function vs(e,t){var n=e.stateNode;if(n===null)return null;var r=Oo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var fl=!1;if(Rt)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){fl=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{fl=!1}function Vv(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ns=!1,Hi=null,qi=!1,pl=null,Fv={onError:function(e){ns=!0,Hi=e}};function Bv(e,t,n,r,s,i,o,a,l){ns=!1,Hi=null,Vv.apply(Fv,arguments)}function zv(e,t,n,r,s,i,o,a,l){if(Bv.apply(this,arguments),ns){if(ns){var u=Hi;ns=!1,Hi=null}else throw Error(P(198));qi||(qi=!0,pl=u)}}function $n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ap(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pd(e){if($n(e)!==e)throw Error(P(188))}function Wv(e){var t=e.alternate;if(!t){if(t=$n(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return pd(s),e;if(i===r)return pd(s),t;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Rp(e){return e=Wv(e),e!==null?jp(e):null}function jp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=jp(e);if(t!==null)return t;e=e.sibling}return null}var Op=Ke.unstable_scheduleCallback,md=Ke.unstable_cancelCallback,Kv=Ke.unstable_shouldYield,Hv=Ke.unstable_requestPaint,ie=Ke.unstable_now,qv=Ke.unstable_getCurrentPriorityLevel,Ru=Ke.unstable_ImmediatePriority,Np=Ke.unstable_UserBlockingPriority,Gi=Ke.unstable_NormalPriority,Gv=Ke.unstable_LowPriority,Ip=Ke.unstable_IdlePriority,Co=null,vt=null;function Jv(e){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Co,e,void 0,(e.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:Xv,Yv=Math.log,Qv=Math.LN2;function Xv(e){return e>>>=0,e===0?32:31-(Yv(e)/Qv|0)|0}var li=64,ui=4194304;function Jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ji(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Jr(a):(i&=o,i!==0&&(r=Jr(i)))}else o=n&~s,o!==0?r=Jr(o):i!==0&&(r=Jr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ht(t),s=1<<n,r|=e[n],t&=~s;return r}function Zv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ht(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Zv(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function ml(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Dp(){var e=li;return li<<=1,!(li&4194240)&&(li=64),e}function sa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ht(t),e[t]=n}function t0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ht(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ju(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ht(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var V=0;function Lp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Mp,Ou,$p,Up,Vp,gl=!1,ci=[],Gt=null,Jt=null,Yt=null,ws=new Map,_s=new Map,zt=[],n0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gd(e,t){switch(e){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":ws.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(t.pointerId)}}function Vr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Gs(t),t!==null&&Ou(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function r0(e,t,n,r,s){switch(t){case"focusin":return Gt=Vr(Gt,e,t,n,r,s),!0;case"dragenter":return Jt=Vr(Jt,e,t,n,r,s),!0;case"mouseover":return Yt=Vr(Yt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ws.set(i,Vr(ws.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,_s.set(i,Vr(_s.get(i)||null,e,t,n,r,s)),!0}return!1}function Fp(e){var t=En(e.target);if(t!==null){var n=$n(t);if(n!==null){if(t=n.tag,t===13){if(t=Ap(n),t!==null){e.blockedOn=t,Vp(e.priority,function(){$p(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);dl=r,n.target.dispatchEvent(r),dl=null}else return t=Gs(n),t!==null&&Ou(t),e.blockedOn=n,!1;t.shift()}return!0}function yd(e,t,n){Oi(e)&&n.delete(t)}function s0(){gl=!1,Gt!==null&&Oi(Gt)&&(Gt=null),Jt!==null&&Oi(Jt)&&(Jt=null),Yt!==null&&Oi(Yt)&&(Yt=null),ws.forEach(yd),_s.forEach(yd)}function Fr(e,t){e.blockedOn===t&&(e.blockedOn=null,gl||(gl=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,s0)))}function Ss(e){function t(s){return Fr(s,e)}if(0<ci.length){Fr(ci[0],e);for(var n=1;n<ci.length;n++){var r=ci[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Gt!==null&&Fr(Gt,e),Jt!==null&&Fr(Jt,e),Yt!==null&&Fr(Yt,e),ws.forEach(t),_s.forEach(t),n=0;n<zt.length;n++)r=zt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<zt.length&&(n=zt[0],n.blockedOn===null);)Fp(n),n.blockedOn===null&&zt.shift()}var vr=Dt.ReactCurrentBatchConfig,Yi=!0;function i0(e,t,n,r){var s=V,i=vr.transition;vr.transition=null;try{V=1,Nu(e,t,n,r)}finally{V=s,vr.transition=i}}function o0(e,t,n,r){var s=V,i=vr.transition;vr.transition=null;try{V=4,Nu(e,t,n,r)}finally{V=s,vr.transition=i}}function Nu(e,t,n,r){if(Yi){var s=yl(e,t,n,r);if(s===null)pa(e,t,r,Qi,n),gd(e,r);else if(r0(s,e,t,n,r))r.stopPropagation();else if(gd(e,r),t&4&&-1<n0.indexOf(e)){for(;s!==null;){var i=Gs(s);if(i!==null&&Mp(i),i=yl(e,t,n,r),i===null&&pa(e,t,r,Qi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else pa(e,t,r,null,n)}}var Qi=null;function yl(e,t,n,r){if(Qi=null,e=Au(r),e=En(e),e!==null)if(t=$n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ap(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qi=e,null}function Bp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qv()){case Ru:return 1;case Np:return 4;case Gi:case Gv:return 16;case Ip:return 536870912;default:return 16}default:return 16}}var Ht=null,Iu=null,Ni=null;function zp(){if(Ni)return Ni;var e,t=Iu,n=t.length,r,s="value"in Ht?Ht.value:Ht.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Ni=s.slice(e,1<r?1-r:void 0)}function Ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function di(){return!0}function vd(){return!1}function Ge(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?di:vd,this.isPropagationStopped=vd,this}return Z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),t}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Du=Ge(Nr),qs=Z({},Nr,{view:0,detail:0}),a0=Ge(qs),ia,oa,Br,Ao=Z({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Br&&(Br&&e.type==="mousemove"?(ia=e.screenX-Br.screenX,oa=e.screenY-Br.screenY):oa=ia=0,Br=e),ia)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),wd=Ge(Ao),l0=Z({},Ao,{dataTransfer:0}),u0=Ge(l0),c0=Z({},qs,{relatedTarget:0}),aa=Ge(c0),d0=Z({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),h0=Ge(d0),f0=Z({},Nr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),p0=Ge(f0),m0=Z({},Nr,{data:0}),_d=Ge(m0),g0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=v0[e])?!!t[e]:!1}function Lu(){return w0}var _0=Z({},qs,{key:function(e){if(e.key){var t=g0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?y0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lu,charCode:function(e){return e.type==="keypress"?Ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),S0=Ge(_0),x0=Z({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sd=Ge(x0),k0=Z({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lu}),E0=Ge(k0),T0=Z({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),b0=Ge(T0),P0=Z({},Ao,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),C0=Ge(P0),A0=[9,13,27,32],Mu=Rt&&"CompositionEvent"in window,rs=null;Rt&&"documentMode"in document&&(rs=document.documentMode);var R0=Rt&&"TextEvent"in window&&!rs,Wp=Rt&&(!Mu||rs&&8<rs&&11>=rs),xd=" ",kd=!1;function Kp(e,t){switch(e){case"keyup":return A0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zn=!1;function j0(e,t){switch(e){case"compositionend":return Hp(t);case"keypress":return t.which!==32?null:(kd=!0,xd);case"textInput":return e=t.data,e===xd&&kd?null:e;default:return null}}function O0(e,t){if(Zn)return e==="compositionend"||!Mu&&Kp(e,t)?(e=zp(),Ni=Iu=Ht=null,Zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wp&&t.locale!=="ko"?null:t.data;default:return null}}var N0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!N0[e.type]:t==="textarea"}function qp(e,t,n,r){Ep(r),t=Xi(t,"onChange"),0<t.length&&(n=new Du("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ss=null,xs=null;function I0(e){sm(e,0)}function Ro(e){var t=nr(e);if(yp(t))return e}function D0(e,t){if(e==="change")return t}var Gp=!1;if(Rt){var la;if(Rt){var ua="oninput"in document;if(!ua){var Td=document.createElement("div");Td.setAttribute("oninput","return;"),ua=typeof Td.oninput=="function"}la=ua}else la=!1;Gp=la&&(!document.documentMode||9<document.documentMode)}function bd(){ss&&(ss.detachEvent("onpropertychange",Jp),xs=ss=null)}function Jp(e){if(e.propertyName==="value"&&Ro(xs)){var t=[];qp(t,xs,e,Au(e)),Cp(I0,t)}}function L0(e,t,n){e==="focusin"?(bd(),ss=t,xs=n,ss.attachEvent("onpropertychange",Jp)):e==="focusout"&&bd()}function M0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ro(xs)}function $0(e,t){if(e==="click")return Ro(t)}function U0(e,t){if(e==="input"||e==="change")return Ro(t)}function V0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:V0;function ks(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Za.call(t,s)||!pt(e[s],t[s]))return!1}return!0}function Pd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cd(e,t){var n=Pd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pd(n)}}function Yp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qp(){for(var e=window,t=Ki();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ki(e.document)}return t}function $u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function F0(e){var t=Qp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Yp(n.ownerDocument.documentElement,n)){if(r!==null&&$u(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Cd(n,i);var o=Cd(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var B0=Rt&&"documentMode"in document&&11>=document.documentMode,er=null,vl=null,is=null,wl=!1;function Ad(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wl||er==null||er!==Ki(r)||(r=er,"selectionStart"in r&&$u(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),is&&ks(is,r)||(is=r,r=Xi(vl,"onSelect"),0<r.length&&(t=new Du("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=er)))}function hi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var tr={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionend:hi("Transition","TransitionEnd")},ca={},Xp={};Rt&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function jo(e){if(ca[e])return ca[e];if(!tr[e])return e;var t=tr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Xp)return ca[e]=t[n];return e}var Zp=jo("animationend"),em=jo("animationiteration"),tm=jo("animationstart"),nm=jo("transitionend"),rm=new Map,Rd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(e,t){rm.set(e,t),Mn(t,[e])}for(var da=0;da<Rd.length;da++){var ha=Rd[da],z0=ha.toLowerCase(),W0=ha[0].toUpperCase()+ha.slice(1);an(z0,"on"+W0)}an(Zp,"onAnimationEnd");an(em,"onAnimationIteration");an(tm,"onAnimationStart");an("dblclick","onDoubleClick");an("focusin","onFocus");an("focusout","onBlur");an(nm,"onTransitionEnd");xr("onMouseEnter",["mouseout","mouseover"]);xr("onMouseLeave",["mouseout","mouseover"]);xr("onPointerEnter",["pointerout","pointerover"]);xr("onPointerLeave",["pointerout","pointerover"]);Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yr));function jd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,zv(r,t,void 0,e),e.currentTarget=null}function sm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;jd(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;jd(s,a,u),i=l}}}if(qi)throw e=pl,qi=!1,pl=null,e}function z(e,t){var n=t[El];n===void 0&&(n=t[El]=new Set);var r=e+"__bubble";n.has(r)||(im(t,e,2,!1),n.add(r))}function fa(e,t,n){var r=0;t&&(r|=4),im(n,e,r,t)}var fi="_reactListening"+Math.random().toString(36).slice(2);function Es(e){if(!e[fi]){e[fi]=!0,hp.forEach(function(n){n!=="selectionchange"&&(K0.has(n)||fa(n,!1,e),fa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fi]||(t[fi]=!0,fa("selectionchange",!1,t))}}function im(e,t,n,r){switch(Bp(t)){case 1:var s=i0;break;case 4:s=o0;break;default:s=Nu}n=s.bind(null,t,n,e),s=void 0,!fl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function pa(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=En(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Cp(function(){var u=i,c=Au(n),d=[];e:{var h=rm.get(e);if(h!==void 0){var m=Du,y=e;switch(e){case"keypress":if(Ii(n)===0)break e;case"keydown":case"keyup":m=S0;break;case"focusin":y="focus",m=aa;break;case"focusout":y="blur",m=aa;break;case"beforeblur":case"afterblur":m=aa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=u0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=E0;break;case Zp:case em:case tm:m=h0;break;case nm:m=b0;break;case"scroll":m=a0;break;case"wheel":m=C0;break;case"copy":case"cut":case"paste":m=p0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Sd}var v=(t&4)!==0,w=!v&&e==="scroll",f=v?h!==null?h+"Capture":null:h;v=[];for(var p=u,g;p!==null;){g=p;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,f!==null&&(S=vs(p,f),S!=null&&v.push(Ts(p,S,g)))),w)break;p=p.return}0<v.length&&(h=new m(h,y,null,n,c),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==dl&&(y=n.relatedTarget||n.fromElement)&&(En(y)||y[jt]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?En(y):null,y!==null&&(w=$n(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(v=wd,S="onMouseLeave",f="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=Sd,S="onPointerLeave",f="onPointerEnter",p="pointer"),w=m==null?h:nr(m),g=y==null?h:nr(y),h=new v(S,p+"leave",m,n,c),h.target=w,h.relatedTarget=g,S=null,En(c)===u&&(v=new v(f,p+"enter",y,n,c),v.target=g,v.relatedTarget=w,S=v),w=S,m&&y)t:{for(v=m,f=y,p=0,g=v;g;g=Vn(g))p++;for(g=0,S=f;S;S=Vn(S))g++;for(;0<p-g;)v=Vn(v),p--;for(;0<g-p;)f=Vn(f),g--;for(;p--;){if(v===f||f!==null&&v===f.alternate)break t;v=Vn(v),f=Vn(f)}v=null}else v=null;m!==null&&Od(d,h,m,v,!1),y!==null&&w!==null&&Od(d,w,y,v,!0)}}e:{if(h=u?nr(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var x=D0;else if(Ed(h))if(Gp)x=U0;else{x=M0;var k=L0}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=$0);if(x&&(x=x(e,u))){qp(d,x,n,c);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&ol(h,"number",h.value)}switch(k=u?nr(u):window,e){case"focusin":(Ed(k)||k.contentEditable==="true")&&(er=k,vl=u,is=null);break;case"focusout":is=vl=er=null;break;case"mousedown":wl=!0;break;case"contextmenu":case"mouseup":case"dragend":wl=!1,Ad(d,n,c);break;case"selectionchange":if(B0)break;case"keydown":case"keyup":Ad(d,n,c)}var b;if(Mu)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Zn?Kp(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Wp&&n.locale!=="ko"&&(Zn||E!=="onCompositionStart"?E==="onCompositionEnd"&&Zn&&(b=zp()):(Ht=c,Iu="value"in Ht?Ht.value:Ht.textContent,Zn=!0)),k=Xi(u,E),0<k.length&&(E=new _d(E,e,null,n,c),d.push({event:E,listeners:k}),b?E.data=b:(b=Hp(n),b!==null&&(E.data=b)))),(b=R0?j0(e,n):O0(e,n))&&(u=Xi(u,"onBeforeInput"),0<u.length&&(c=new _d("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=b))}sm(d,t)})}function Ts(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=vs(e,n),i!=null&&r.unshift(Ts(e,i,s)),i=vs(e,t),i!=null&&r.push(Ts(e,i,s))),e=e.return}return r}function Vn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Od(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=vs(n,i),l!=null&&o.unshift(Ts(n,l,a))):s||(l=vs(n,i),l!=null&&o.push(Ts(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var H0=/\r\n?/g,q0=/\u0000|\uFFFD/g;function Nd(e){return(typeof e=="string"?e:""+e).replace(H0,`
`).replace(q0,"")}function pi(e,t,n){if(t=Nd(t),Nd(e)!==t&&n)throw Error(P(425))}function Zi(){}var _l=null,Sl=null;function xl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kl=typeof setTimeout=="function"?setTimeout:void 0,G0=typeof clearTimeout=="function"?clearTimeout:void 0,Id=typeof Promise=="function"?Promise:void 0,J0=typeof queueMicrotask=="function"?queueMicrotask:typeof Id<"u"?function(e){return Id.resolve(null).then(e).catch(Y0)}:kl;function Y0(e){setTimeout(function(){throw e})}function ma(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ss(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ss(t)}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ir=Math.random().toString(36).slice(2),yt="__reactFiber$"+Ir,bs="__reactProps$"+Ir,jt="__reactContainer$"+Ir,El="__reactEvents$"+Ir,Q0="__reactListeners$"+Ir,X0="__reactHandles$"+Ir;function En(e){var t=e[yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jt]||n[yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dd(e);e!==null;){if(n=e[yt])return n;e=Dd(e)}return t}e=n,n=e.parentNode}return null}function Gs(e){return e=e[yt]||e[jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Oo(e){return e[bs]||null}var Tl=[],rr=-1;function ln(e){return{current:e}}function W(e){0>rr||(e.current=Tl[rr],Tl[rr]=null,rr--)}function B(e,t){rr++,Tl[rr]=e.current,e.current=t}var rn={},Ce=ln(rn),De=ln(!1),On=rn;function kr(e,t){var n=e.type.contextTypes;if(!n)return rn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Le(e){return e=e.childContextTypes,e!=null}function eo(){W(De),W(Ce)}function Ld(e,t,n){if(Ce.current!==rn)throw Error(P(168));B(Ce,t),B(De,n)}function om(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(P(108,Lv(e)||"Unknown",s));return Z({},n,r)}function to(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rn,On=Ce.current,B(Ce,e),B(De,De.current),!0}function Md(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=om(e,t,On),r.__reactInternalMemoizedMergedChildContext=e,W(De),W(Ce),B(Ce,e)):W(De),B(De,n)}var Et=null,No=!1,ga=!1;function am(e){Et===null?Et=[e]:Et.push(e)}function Z0(e){No=!0,am(e)}function un(){if(!ga&&Et!==null){ga=!0;var e=0,t=V;try{var n=Et;for(V=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Et=null,No=!1}catch(s){throw Et!==null&&(Et=Et.slice(e+1)),Op(Ru,un),s}finally{V=t,ga=!1}}return null}var sr=[],ir=0,no=null,ro=0,Xe=[],Ze=0,Nn=null,Tt=1,bt="";function yn(e,t){sr[ir++]=ro,sr[ir++]=no,no=e,ro=t}function lm(e,t,n){Xe[Ze++]=Tt,Xe[Ze++]=bt,Xe[Ze++]=Nn,Nn=e;var r=Tt;e=bt;var s=32-ht(r)-1;r&=~(1<<s),n+=1;var i=32-ht(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Tt=1<<32-ht(t)+s|n<<s|r,bt=i+e}else Tt=1<<i|n<<s|r,bt=e}function Uu(e){e.return!==null&&(yn(e,1),lm(e,1,0))}function Vu(e){for(;e===no;)no=sr[--ir],sr[ir]=null,ro=sr[--ir],sr[ir]=null;for(;e===Nn;)Nn=Xe[--Ze],Xe[Ze]=null,bt=Xe[--Ze],Xe[Ze]=null,Tt=Xe[--Ze],Xe[Ze]=null}var ze=null,Be=null,H=!1,dt=null;function um(e,t){var n=et(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $d(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ze=e,Be=Qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ze=e,Be=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Nn!==null?{id:Tt,overflow:bt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=et(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ze=e,Be=null,!0):!1;default:return!1}}function bl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pl(e){if(H){var t=Be;if(t){var n=t;if(!$d(e,t)){if(bl(e))throw Error(P(418));t=Qt(n.nextSibling);var r=ze;t&&$d(e,t)?um(r,n):(e.flags=e.flags&-4097|2,H=!1,ze=e)}}else{if(bl(e))throw Error(P(418));e.flags=e.flags&-4097|2,H=!1,ze=e}}}function Ud(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ze=e}function mi(e){if(e!==ze)return!1;if(!H)return Ud(e),H=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xl(e.type,e.memoizedProps)),t&&(t=Be)){if(bl(e))throw cm(),Error(P(418));for(;t;)um(e,t),t=Qt(t.nextSibling)}if(Ud(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Be=Qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Be=null}}else Be=ze?Qt(e.stateNode.nextSibling):null;return!0}function cm(){for(var e=Be;e;)e=Qt(e.nextSibling)}function Er(){Be=ze=null,H=!1}function Fu(e){dt===null?dt=[e]:dt.push(e)}var ew=Dt.ReactCurrentBatchConfig;function zr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function gi(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vd(e){var t=e._init;return t(e._payload)}function dm(e){function t(f,p){if(e){var g=f.deletions;g===null?(f.deletions=[p],f.flags|=16):g.push(p)}}function n(f,p){if(!e)return null;for(;p!==null;)t(f,p),p=p.sibling;return null}function r(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function s(f,p){return f=tn(f,p),f.index=0,f.sibling=null,f}function i(f,p,g){return f.index=g,e?(g=f.alternate,g!==null?(g=g.index,g<p?(f.flags|=2,p):g):(f.flags|=2,p)):(f.flags|=1048576,p)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function a(f,p,g,S){return p===null||p.tag!==6?(p=ka(g,f.mode,S),p.return=f,p):(p=s(p,g),p.return=f,p)}function l(f,p,g,S){var x=g.type;return x===Xn?c(f,p,g.props.children,S,g.key):p!==null&&(p.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Vt&&Vd(x)===p.type)?(S=s(p,g.props),S.ref=zr(f,p,g),S.return=f,S):(S=Fi(g.type,g.key,g.props,null,f.mode,S),S.ref=zr(f,p,g),S.return=f,S)}function u(f,p,g,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Ea(g,f.mode,S),p.return=f,p):(p=s(p,g.children||[]),p.return=f,p)}function c(f,p,g,S,x){return p===null||p.tag!==7?(p=Rn(g,f.mode,S,x),p.return=f,p):(p=s(p,g),p.return=f,p)}function d(f,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ka(""+p,f.mode,g),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ii:return g=Fi(p.type,p.key,p.props,null,f.mode,g),g.ref=zr(f,null,p),g.return=f,g;case Qn:return p=Ea(p,f.mode,g),p.return=f,p;case Vt:var S=p._init;return d(f,S(p._payload),g)}if(Gr(p)||$r(p))return p=Rn(p,f.mode,g,null),p.return=f,p;gi(f,p)}return null}function h(f,p,g,S){var x=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:a(f,p,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ii:return g.key===x?l(f,p,g,S):null;case Qn:return g.key===x?u(f,p,g,S):null;case Vt:return x=g._init,h(f,p,x(g._payload),S)}if(Gr(g)||$r(g))return x!==null?null:c(f,p,g,S,null);gi(f,g)}return null}function m(f,p,g,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return f=f.get(g)||null,a(p,f,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ii:return f=f.get(S.key===null?g:S.key)||null,l(p,f,S,x);case Qn:return f=f.get(S.key===null?g:S.key)||null,u(p,f,S,x);case Vt:var k=S._init;return m(f,p,g,k(S._payload),x)}if(Gr(S)||$r(S))return f=f.get(g)||null,c(p,f,S,x,null);gi(p,S)}return null}function y(f,p,g,S){for(var x=null,k=null,b=p,E=p=0,I=null;b!==null&&E<g.length;E++){b.index>E?(I=b,b=null):I=b.sibling;var D=h(f,b,g[E],S);if(D===null){b===null&&(b=I);break}e&&b&&D.alternate===null&&t(f,b),p=i(D,p,E),k===null?x=D:k.sibling=D,k=D,b=I}if(E===g.length)return n(f,b),H&&yn(f,E),x;if(b===null){for(;E<g.length;E++)b=d(f,g[E],S),b!==null&&(p=i(b,p,E),k===null?x=b:k.sibling=b,k=b);return H&&yn(f,E),x}for(b=r(f,b);E<g.length;E++)I=m(b,f,E,g[E],S),I!==null&&(e&&I.alternate!==null&&b.delete(I.key===null?E:I.key),p=i(I,p,E),k===null?x=I:k.sibling=I,k=I);return e&&b.forEach(function(fe){return t(f,fe)}),H&&yn(f,E),x}function v(f,p,g,S){var x=$r(g);if(typeof x!="function")throw Error(P(150));if(g=x.call(g),g==null)throw Error(P(151));for(var k=x=null,b=p,E=p=0,I=null,D=g.next();b!==null&&!D.done;E++,D=g.next()){b.index>E?(I=b,b=null):I=b.sibling;var fe=h(f,b,D.value,S);if(fe===null){b===null&&(b=I);break}e&&b&&fe.alternate===null&&t(f,b),p=i(fe,p,E),k===null?x=fe:k.sibling=fe,k=fe,b=I}if(D.done)return n(f,b),H&&yn(f,E),x;if(b===null){for(;!D.done;E++,D=g.next())D=d(f,D.value,S),D!==null&&(p=i(D,p,E),k===null?x=D:k.sibling=D,k=D);return H&&yn(f,E),x}for(b=r(f,b);!D.done;E++,D=g.next())D=m(b,f,E,D.value,S),D!==null&&(e&&D.alternate!==null&&b.delete(D.key===null?E:D.key),p=i(D,p,E),k===null?x=D:k.sibling=D,k=D);return e&&b.forEach(function(Mt){return t(f,Mt)}),H&&yn(f,E),x}function w(f,p,g,S){if(typeof g=="object"&&g!==null&&g.type===Xn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ii:e:{for(var x=g.key,k=p;k!==null;){if(k.key===x){if(x=g.type,x===Xn){if(k.tag===7){n(f,k.sibling),p=s(k,g.props.children),p.return=f,f=p;break e}}else if(k.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Vt&&Vd(x)===k.type){n(f,k.sibling),p=s(k,g.props),p.ref=zr(f,k,g),p.return=f,f=p;break e}n(f,k);break}else t(f,k);k=k.sibling}g.type===Xn?(p=Rn(g.props.children,f.mode,S,g.key),p.return=f,f=p):(S=Fi(g.type,g.key,g.props,null,f.mode,S),S.ref=zr(f,p,g),S.return=f,f=S)}return o(f);case Qn:e:{for(k=g.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(f,p.sibling),p=s(p,g.children||[]),p.return=f,f=p;break e}else{n(f,p);break}else t(f,p);p=p.sibling}p=Ea(g,f.mode,S),p.return=f,f=p}return o(f);case Vt:return k=g._init,w(f,p,k(g._payload),S)}if(Gr(g))return y(f,p,g,S);if($r(g))return v(f,p,g,S);gi(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(f,p.sibling),p=s(p,g),p.return=f,f=p):(n(f,p),p=ka(g,f.mode,S),p.return=f,f=p),o(f)):n(f,p)}return w}var Tr=dm(!0),hm=dm(!1),so=ln(null),io=null,or=null,Bu=null;function zu(){Bu=or=io=null}function Wu(e){var t=so.current;W(so),e._currentValue=t}function Cl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wr(e,t){io=e,Bu=or=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ie=!0),e.firstContext=null)}function nt(e){var t=e._currentValue;if(Bu!==e)if(e={context:e,memoizedValue:t,next:null},or===null){if(io===null)throw Error(P(308));or=e,io.dependencies={lanes:0,firstContext:e}}else or=or.next=e;return t}var Tn=null;function Ku(e){Tn===null?Tn=[e]:Tn.push(e)}function fm(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ku(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ot(e,r)}function Ot(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ft=!1;function Hu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ot(e,n)}return s=r.interleaved,s===null?(t.next=t,Ku(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ot(e,n)}function Di(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ju(e,n)}}function Fd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function oo(e,t,n,r){var s=e.updateQueue;Ft=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,m=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,v=a;switch(h=t,m=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(m,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(m,d,h):y,h==null)break e;d=Z({},d,h);break e;case 2:Ft=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Dn|=o,e.lanes=o,e.memoizedState=d}}function Bd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var Js={},wt=ln(Js),Ps=ln(Js),Cs=ln(Js);function bn(e){if(e===Js)throw Error(P(174));return e}function qu(e,t){switch(B(Cs,t),B(Ps,e),B(wt,Js),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ll(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ll(t,e)}W(wt),B(wt,t)}function br(){W(wt),W(Ps),W(Cs)}function mm(e){bn(Cs.current);var t=bn(wt.current),n=ll(t,e.type);t!==n&&(B(Ps,e),B(wt,n))}function Gu(e){Ps.current===e&&(W(wt),W(Ps))}var Y=ln(0);function ao(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ya=[];function Ju(){for(var e=0;e<ya.length;e++)ya[e]._workInProgressVersionPrimary=null;ya.length=0}var Li=Dt.ReactCurrentDispatcher,va=Dt.ReactCurrentBatchConfig,In=0,X=null,de=null,me=null,lo=!1,os=!1,As=0,tw=0;function ke(){throw Error(P(321))}function Yu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pt(e[n],t[n]))return!1;return!0}function Qu(e,t,n,r,s,i){if(In=i,X=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Li.current=e===null||e.memoizedState===null?iw:ow,e=n(r,s),os){i=0;do{if(os=!1,As=0,25<=i)throw Error(P(301));i+=1,me=de=null,t.updateQueue=null,Li.current=aw,e=n(r,s)}while(os)}if(Li.current=uo,t=de!==null&&de.next!==null,In=0,me=de=X=null,lo=!1,t)throw Error(P(300));return e}function Xu(){var e=As!==0;return As=0,e}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?X.memoizedState=me=e:me=me.next=e,me}function rt(){if(de===null){var e=X.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=me===null?X.memoizedState:me.next;if(t!==null)me=t,de=e;else{if(e===null)throw Error(P(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},me===null?X.memoizedState=me=e:me=me.next=e}return me}function Rs(e,t){return typeof t=="function"?t(e):t}function wa(e){var t=rt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=de,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((In&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,X.lanes|=c,Dn|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,pt(r,t.memoizedState)||(Ie=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,X.lanes|=i,Dn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=rt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);pt(i,t.memoizedState)||(Ie=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function gm(){}function ym(e,t){var n=X,r=rt(),s=t(),i=!pt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ie=!0),r=r.queue,Zu(_m.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,js(9,wm.bind(null,n,r,s,t),void 0,null),ge===null)throw Error(P(349));In&30||vm(n,t,s)}return s}function vm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wm(e,t,n,r){t.value=n,t.getSnapshot=r,Sm(t)&&xm(e)}function _m(e,t,n){return n(function(){Sm(t)&&xm(e)})}function Sm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pt(e,n)}catch{return!0}}function xm(e){var t=Ot(e,1);t!==null&&ft(t,e,1,-1)}function zd(e){var t=gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:e},t.queue=e,e=e.dispatch=sw.bind(null,X,e),[t.memoizedState,e]}function js(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function km(){return rt().memoizedState}function Mi(e,t,n,r){var s=gt();X.flags|=e,s.memoizedState=js(1|t,n,void 0,r===void 0?null:r)}function Io(e,t,n,r){var s=rt();r=r===void 0?null:r;var i=void 0;if(de!==null){var o=de.memoizedState;if(i=o.destroy,r!==null&&Yu(r,o.deps)){s.memoizedState=js(t,n,i,r);return}}X.flags|=e,s.memoizedState=js(1|t,n,i,r)}function Wd(e,t){return Mi(8390656,8,e,t)}function Zu(e,t){return Io(2048,8,e,t)}function Em(e,t){return Io(4,2,e,t)}function Tm(e,t){return Io(4,4,e,t)}function bm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pm(e,t,n){return n=n!=null?n.concat([e]):null,Io(4,4,bm.bind(null,t,e),n)}function ec(){}function Cm(e,t){var n=rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Am(e,t){var n=rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Rm(e,t,n){return In&21?(pt(n,t)||(n=Dp(),X.lanes|=n,Dn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ie=!0),e.memoizedState=n)}function nw(e,t){var n=V;V=n!==0&&4>n?n:4,e(!0);var r=va.transition;va.transition={};try{e(!1),t()}finally{V=n,va.transition=r}}function jm(){return rt().memoizedState}function rw(e,t,n){var r=en(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Om(e))Nm(t,n);else if(n=fm(e,t,n,r),n!==null){var s=Re();ft(n,e,r,s),Im(n,t,r)}}function sw(e,t,n){var r=en(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Om(e))Nm(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,pt(a,o)){var l=t.interleaved;l===null?(s.next=s,Ku(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=fm(e,t,s,r),n!==null&&(s=Re(),ft(n,e,r,s),Im(n,t,r))}}function Om(e){var t=e.alternate;return e===X||t!==null&&t===X}function Nm(e,t){os=lo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Im(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ju(e,n)}}var uo={readContext:nt,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},iw={readContext:nt,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:Wd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Mi(4194308,4,bm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mi(4,2,e,t)},useMemo:function(e,t){var n=gt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rw.bind(null,X,e),[r.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:zd,useDebugValue:ec,useDeferredValue:function(e){return gt().memoizedState=e},useTransition:function(){var e=zd(!1),t=e[0];return e=nw.bind(null,e[1]),gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=X,s=gt();if(H){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),ge===null)throw Error(P(349));In&30||vm(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Wd(_m.bind(null,r,i,e),[e]),r.flags|=2048,js(9,wm.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=gt(),t=ge.identifierPrefix;if(H){var n=bt,r=Tt;n=(r&~(1<<32-ht(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=As++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=tw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ow={readContext:nt,useCallback:Cm,useContext:nt,useEffect:Zu,useImperativeHandle:Pm,useInsertionEffect:Em,useLayoutEffect:Tm,useMemo:Am,useReducer:wa,useRef:km,useState:function(){return wa(Rs)},useDebugValue:ec,useDeferredValue:function(e){var t=rt();return Rm(t,de.memoizedState,e)},useTransition:function(){var e=wa(Rs)[0],t=rt().memoizedState;return[e,t]},useMutableSource:gm,useSyncExternalStore:ym,useId:jm,unstable_isNewReconciler:!1},aw={readContext:nt,useCallback:Cm,useContext:nt,useEffect:Zu,useImperativeHandle:Pm,useInsertionEffect:Em,useLayoutEffect:Tm,useMemo:Am,useReducer:_a,useRef:km,useState:function(){return _a(Rs)},useDebugValue:ec,useDeferredValue:function(e){var t=rt();return de===null?t.memoizedState=e:Rm(t,de.memoizedState,e)},useTransition:function(){var e=_a(Rs)[0],t=rt().memoizedState;return[e,t]},useMutableSource:gm,useSyncExternalStore:ym,useId:jm,unstable_isNewReconciler:!1};function at(e,t){if(e&&e.defaultProps){t=Z({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Al(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Z({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Do={isMounted:function(e){return(e=e._reactInternals)?$n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Re(),s=en(e),i=Pt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Xt(e,i,s),t!==null&&(ft(t,e,s,r),Di(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Re(),s=en(e),i=Pt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Xt(e,i,s),t!==null&&(ft(t,e,s,r),Di(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Re(),r=en(e),s=Pt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Xt(e,s,r),t!==null&&(ft(t,e,r,n),Di(t,e,r))}};function Kd(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ks(n,r)||!ks(s,i):!0}function Dm(e,t,n){var r=!1,s=rn,i=t.contextType;return typeof i=="object"&&i!==null?i=nt(i):(s=Le(t)?On:Ce.current,r=t.contextTypes,i=(r=r!=null)?kr(e,s):rn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Do,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Hd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Do.enqueueReplaceState(t,t.state,null)}function Rl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Hu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=nt(i):(i=Le(t)?On:Ce.current,s.context=kr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Al(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Do.enqueueReplaceState(s,s.state,null),oo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Pr(e,t){try{var n="",r=t;do n+=Dv(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Sa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function jl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lw=typeof WeakMap=="function"?WeakMap:Map;function Lm(e,t,n){n=Pt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ho||(ho=!0,Fl=r),jl(e,t)},n}function Mm(e,t,n){n=Pt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){jl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){jl(e,t),typeof r!="function"&&(Zt===null?Zt=new Set([this]):Zt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function qd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new lw;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=xw.bind(null,e,t,n),t.then(e,e))}function Gd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pt(-1,1),t.tag=2,Xt(n,t,1))),n.lanes|=1),e)}var uw=Dt.ReactCurrentOwner,Ie=!1;function Ae(e,t,n,r){t.child=e===null?hm(t,null,n,r):Tr(t,e.child,n,r)}function Yd(e,t,n,r,s){n=n.render;var i=t.ref;return wr(t,s),r=Qu(e,t,n,r,i,s),n=Xu(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nt(e,t,s)):(H&&n&&Uu(t),t.flags|=1,Ae(e,t,r,s),t.child)}function Qd(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!lc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,$m(e,t,i,r,s)):(e=Fi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ks,n(o,r)&&e.ref===t.ref)return Nt(e,t,s)}return t.flags|=1,e=tn(i,r),e.ref=t.ref,e.return=t,t.child=e}function $m(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ks(i,r)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ie=!0);else return t.lanes=e.lanes,Nt(e,t,s)}return Ol(e,t,n,r,s)}function Um(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},B(lr,Ue),Ue|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,B(lr,Ue),Ue|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,B(lr,Ue),Ue|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,B(lr,Ue),Ue|=r;return Ae(e,t,s,n),t.child}function Vm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ol(e,t,n,r,s){var i=Le(n)?On:Ce.current;return i=kr(t,i),wr(t,s),n=Qu(e,t,n,r,i,s),r=Xu(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nt(e,t,s)):(H&&r&&Uu(t),t.flags|=1,Ae(e,t,n,s),t.child)}function Xd(e,t,n,r,s){if(Le(n)){var i=!0;to(t)}else i=!1;if(wr(t,s),t.stateNode===null)$i(e,t),Dm(t,n,r),Rl(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=nt(u):(u=Le(n)?On:Ce.current,u=kr(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Hd(t,o,r,u),Ft=!1;var h=t.memoizedState;o.state=h,oo(t,r,o,s),l=t.memoizedState,a!==r||h!==l||De.current||Ft?(typeof c=="function"&&(Al(t,n,c,r),l=t.memoizedState),(a=Ft||Kd(t,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,pm(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:at(t.type,a),o.props=u,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=nt(l):(l=Le(n)?On:Ce.current,l=kr(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Hd(t,o,r,l),Ft=!1,h=t.memoizedState,o.state=h,oo(t,r,o,s);var y=t.memoizedState;a!==d||h!==y||De.current||Ft?(typeof m=="function"&&(Al(t,n,m,r),y=t.memoizedState),(u=Ft||Kd(t,n,u,r,h,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nl(e,t,n,r,i,s)}function Nl(e,t,n,r,s,i){Vm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Md(t,n,!1),Nt(e,t,i);r=t.stateNode,uw.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Tr(t,e.child,null,i),t.child=Tr(t,null,a,i)):Ae(e,t,a,i),t.memoizedState=r.state,s&&Md(t,n,!0),t.child}function Fm(e){var t=e.stateNode;t.pendingContext?Ld(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ld(e,t.context,!1),qu(e,t.containerInfo)}function Zd(e,t,n,r,s){return Er(),Fu(s),t.flags|=256,Ae(e,t,n,r),t.child}var Il={dehydrated:null,treeContext:null,retryLane:0};function Dl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bm(e,t,n){var r=t.pendingProps,s=Y.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),B(Y,s&1),e===null)return Pl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$o(o,r,0,null),e=Rn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Dl(n),t.memoizedState=Il,e):tc(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return cw(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=tn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=tn(a,i):(i=Rn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Dl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Il,r}return i=e.child,e=i.sibling,r=tn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function tc(e,t){return t=$o({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yi(e,t,n,r){return r!==null&&Fu(r),Tr(t,e.child,null,n),e=tc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cw(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Sa(Error(P(422))),yi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=$o({mode:"visible",children:r.children},s,0,null),i=Rn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Tr(t,e.child,null,o),t.child.memoizedState=Dl(o),t.memoizedState=Il,i);if(!(t.mode&1))return yi(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(P(419)),r=Sa(i,r,void 0),yi(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ie||a){if(r=ge,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ot(e,s),ft(r,e,s,-1))}return ac(),r=Sa(Error(P(421))),yi(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=kw.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Be=Qt(s.nextSibling),ze=t,H=!0,dt=null,e!==null&&(Xe[Ze++]=Tt,Xe[Ze++]=bt,Xe[Ze++]=Nn,Tt=e.id,bt=e.overflow,Nn=t),t=tc(t,r.children),t.flags|=4096,t)}function eh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Cl(e.return,t,n)}function xa(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function zm(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ae(e,t,r.children,n),r=Y.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eh(e,n,t);else if(e.tag===19)eh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(B(Y,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ao(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),xa(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ao(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}xa(t,!0,n,null,i);break;case"together":xa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $i(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=tn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=tn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function dw(e,t,n){switch(t.tag){case 3:Fm(t),Er();break;case 5:mm(t);break;case 1:Le(t.type)&&to(t);break;case 4:qu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;B(so,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(B(Y,Y.current&1),t.flags|=128,null):n&t.child.childLanes?Bm(e,t,n):(B(Y,Y.current&1),e=Nt(e,t,n),e!==null?e.sibling:null);B(Y,Y.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return zm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),B(Y,Y.current),r)break;return null;case 22:case 23:return t.lanes=0,Um(e,t,n)}return Nt(e,t,n)}var Wm,Ll,Km,Hm;Wm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ll=function(){};Km=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,bn(wt.current);var i=null;switch(n){case"input":s=sl(e,s),r=sl(e,r),i=[];break;case"select":s=Z({},s,{value:void 0}),r=Z({},r,{value:void 0}),i=[];break;case"textarea":s=al(e,s),r=al(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Zi)}ul(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&z("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Hm=function(e,t,n,r){n!==r&&(t.flags|=4)};function Wr(e,t){if(!H)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hw(e,t,n){var r=t.pendingProps;switch(Vu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(t),null;case 1:return Le(t.type)&&eo(),Ee(t),null;case 3:return r=t.stateNode,br(),W(De),W(Ce),Ju(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(mi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dt!==null&&(Wl(dt),dt=null))),Ll(e,t),Ee(t),null;case 5:Gu(t);var s=bn(Cs.current);if(n=t.type,e!==null&&t.stateNode!=null)Km(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Ee(t),null}if(e=bn(wt.current),mi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[yt]=t,r[bs]=i,e=(t.mode&1)!==0,n){case"dialog":z("cancel",r),z("close",r);break;case"iframe":case"object":case"embed":z("load",r);break;case"video":case"audio":for(s=0;s<Yr.length;s++)z(Yr[s],r);break;case"source":z("error",r);break;case"img":case"image":case"link":z("error",r),z("load",r);break;case"details":z("toggle",r);break;case"input":ud(r,i),z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},z("invalid",r);break;case"textarea":dd(r,i),z("invalid",r)}ul(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&pi(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&pi(r.textContent,a,e),s=["children",""+a]):gs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&z("scroll",r)}switch(n){case"input":oi(r),cd(r,i,!0);break;case"textarea":oi(r),hd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Zi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_p(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[yt]=t,e[bs]=r,Wm(e,t,!1,!1),t.stateNode=e;e:{switch(o=cl(n,r),n){case"dialog":z("cancel",e),z("close",e),s=r;break;case"iframe":case"object":case"embed":z("load",e),s=r;break;case"video":case"audio":for(s=0;s<Yr.length;s++)z(Yr[s],e);s=r;break;case"source":z("error",e),s=r;break;case"img":case"image":case"link":z("error",e),z("load",e),s=r;break;case"details":z("toggle",e),s=r;break;case"input":ud(e,r),s=sl(e,r),z("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Z({},r,{value:void 0}),z("invalid",e);break;case"textarea":dd(e,r),s=al(e,r),z("invalid",e);break;default:s=r}ul(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?kp(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Sp(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ys(e,l):typeof l=="number"&&ys(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(gs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&z("scroll",e):l!=null&&Tu(e,i,l,o))}switch(n){case"input":oi(e),cd(e,r,!1);break;case"textarea":oi(e),hd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+nn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?mr(e,!!r.multiple,i,!1):r.defaultValue!=null&&mr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ee(t),null;case 6:if(e&&t.stateNode!=null)Hm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=bn(Cs.current),bn(wt.current),mi(t)){if(r=t.stateNode,n=t.memoizedProps,r[yt]=t,(i=r.nodeValue!==n)&&(e=ze,e!==null))switch(e.tag){case 3:pi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yt]=t,t.stateNode=r}return Ee(t),null;case 13:if(W(Y),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(H&&Be!==null&&t.mode&1&&!(t.flags&128))cm(),Er(),t.flags|=98560,i=!1;else if(i=mi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[yt]=t}else Er(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ee(t),i=!1}else dt!==null&&(Wl(dt),dt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Y.current&1?he===0&&(he=3):ac())),t.updateQueue!==null&&(t.flags|=4),Ee(t),null);case 4:return br(),Ll(e,t),e===null&&Es(t.stateNode.containerInfo),Ee(t),null;case 10:return Wu(t.type._context),Ee(t),null;case 17:return Le(t.type)&&eo(),Ee(t),null;case 19:if(W(Y),i=t.memoizedState,i===null)return Ee(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Wr(i,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ao(e),o!==null){for(t.flags|=128,Wr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return B(Y,Y.current&1|2),t.child}e=e.sibling}i.tail!==null&&ie()>Cr&&(t.flags|=128,r=!0,Wr(i,!1),t.lanes=4194304)}else{if(!r)if(e=ao(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Wr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!H)return Ee(t),null}else 2*ie()-i.renderingStartTime>Cr&&n!==1073741824&&(t.flags|=128,r=!0,Wr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ie(),t.sibling=null,n=Y.current,B(Y,r?n&1|2:n&1),t):(Ee(t),null);case 22:case 23:return oc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ue&1073741824&&(Ee(t),t.subtreeFlags&6&&(t.flags|=8192)):Ee(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function fw(e,t){switch(Vu(t),t.tag){case 1:return Le(t.type)&&eo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return br(),W(De),W(Ce),Ju(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gu(t),null;case 13:if(W(Y),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Er()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return W(Y),null;case 4:return br(),null;case 10:return Wu(t.type._context),null;case 22:case 23:return oc(),null;case 24:return null;default:return null}}var vi=!1,be=!1,pw=typeof WeakSet=="function"?WeakSet:Set,A=null;function ar(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ne(e,t,r)}else n.current=null}function Ml(e,t,n){try{n()}catch(r){ne(e,t,r)}}var th=!1;function mw(e,t){if(_l=Yi,e=Qp(),$u(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var m;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===n&&++u===s&&(a=o),h===i&&++c===r&&(l=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sl={focusedElem:e,selectionRange:n},Yi=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,f=t.stateNode,p=f.getSnapshotBeforeUpdate(t.elementType===t.type?v:at(t.type,v),w);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(S){ne(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return y=th,th=!1,y}function as(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ml(t,n,i)}s=s.next}while(s!==r)}}function Lo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $l(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function qm(e){var t=e.alternate;t!==null&&(e.alternate=null,qm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yt],delete t[bs],delete t[El],delete t[Q0],delete t[X0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gm(e){return e.tag===5||e.tag===3||e.tag===4}function nh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ul(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zi));else if(r!==4&&(e=e.child,e!==null))for(Ul(e,t,n),e=e.sibling;e!==null;)Ul(e,t,n),e=e.sibling}function Vl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Vl(e,t,n),e=e.sibling;e!==null;)Vl(e,t,n),e=e.sibling}var we=null,ut=!1;function $t(e,t,n){for(n=n.child;n!==null;)Jm(e,t,n),n=n.sibling}function Jm(e,t,n){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Co,n)}catch{}switch(n.tag){case 5:be||ar(n,t);case 6:var r=we,s=ut;we=null,$t(e,t,n),we=r,ut=s,we!==null&&(ut?(e=we,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(ut?(e=we,n=n.stateNode,e.nodeType===8?ma(e.parentNode,n):e.nodeType===1&&ma(e,n),Ss(e)):ma(we,n.stateNode));break;case 4:r=we,s=ut,we=n.stateNode.containerInfo,ut=!0,$t(e,t,n),we=r,ut=s;break;case 0:case 11:case 14:case 15:if(!be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ml(n,t,o),s=s.next}while(s!==r)}$t(e,t,n);break;case 1:if(!be&&(ar(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ne(n,t,a)}$t(e,t,n);break;case 21:$t(e,t,n);break;case 22:n.mode&1?(be=(r=be)||n.memoizedState!==null,$t(e,t,n),be=r):$t(e,t,n);break;default:$t(e,t,n)}}function rh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pw),t.forEach(function(r){var s=Ew.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function st(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:we=a.stateNode,ut=!1;break e;case 3:we=a.stateNode.containerInfo,ut=!0;break e;case 4:we=a.stateNode.containerInfo,ut=!0;break e}a=a.return}if(we===null)throw Error(P(160));Jm(i,o,s),we=null,ut=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ne(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ym(t,e),t=t.sibling}function Ym(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(st(t,e),mt(e),r&4){try{as(3,e,e.return),Lo(3,e)}catch(v){ne(e,e.return,v)}try{as(5,e,e.return)}catch(v){ne(e,e.return,v)}}break;case 1:st(t,e),mt(e),r&512&&n!==null&&ar(n,n.return);break;case 5:if(st(t,e),mt(e),r&512&&n!==null&&ar(n,n.return),e.flags&32){var s=e.stateNode;try{ys(s,"")}catch(v){ne(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&vp(s,i),cl(a,o);var u=cl(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?kp(s,d):c==="dangerouslySetInnerHTML"?Sp(s,d):c==="children"?ys(s,d):Tu(s,c,d,u)}switch(a){case"input":il(s,i);break;case"textarea":wp(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?mr(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?mr(s,!!i.multiple,i.defaultValue,!0):mr(s,!!i.multiple,i.multiple?[]:"",!1))}s[bs]=i}catch(v){ne(e,e.return,v)}}break;case 6:if(st(t,e),mt(e),r&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){ne(e,e.return,v)}}break;case 3:if(st(t,e),mt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ss(t.containerInfo)}catch(v){ne(e,e.return,v)}break;case 4:st(t,e),mt(e);break;case 13:st(t,e),mt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(sc=ie())),r&4&&rh(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(be=(u=be)||c,st(t,e),be=u):st(t,e),mt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(A=e,c=e.child;c!==null;){for(d=A=c;A!==null;){switch(h=A,m=h.child,h.tag){case 0:case 11:case 14:case 15:as(4,h,h.return);break;case 1:ar(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){ne(r,n,v)}}break;case 5:ar(h,h.return);break;case 22:if(h.memoizedState!==null){ih(d);continue}}m!==null?(m.return=h,A=m):ih(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=xp("display",o))}catch(v){ne(e,e.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){ne(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:st(t,e),mt(e),r&4&&rh(e);break;case 21:break;default:st(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gm(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ys(s,""),r.flags&=-33);var i=nh(e);Vl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=nh(e);Ul(e,a,o);break;default:throw Error(P(161))}}catch(l){ne(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gw(e,t,n){A=e,Qm(e)}function Qm(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||vi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||be;a=vi;var u=be;if(vi=o,(be=l)&&!u)for(A=s;A!==null;)o=A,l=o.child,o.tag===22&&o.memoizedState!==null?oh(s):l!==null?(l.return=o,A=l):oh(s);for(;i!==null;)A=i,Qm(i),i=i.sibling;A=s,vi=a,be=u}sh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):sh(e)}}function sh(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:be||Lo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!be)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:at(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Bd(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bd(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ss(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}be||t.flags&512&&$l(t)}catch(h){ne(t,t.return,h)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function ih(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function oh(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Lo(4,t)}catch(l){ne(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ne(t,s,l)}}var i=t.return;try{$l(t)}catch(l){ne(t,i,l)}break;case 5:var o=t.return;try{$l(t)}catch(l){ne(t,o,l)}}}catch(l){ne(t,t.return,l)}if(t===e){A=null;break}var a=t.sibling;if(a!==null){a.return=t.return,A=a;break}A=t.return}}var yw=Math.ceil,co=Dt.ReactCurrentDispatcher,nc=Dt.ReactCurrentOwner,tt=Dt.ReactCurrentBatchConfig,U=0,ge=null,le=null,Se=0,Ue=0,lr=ln(0),he=0,Os=null,Dn=0,Mo=0,rc=0,ls=null,Ne=null,sc=0,Cr=1/0,xt=null,ho=!1,Fl=null,Zt=null,wi=!1,qt=null,fo=0,us=0,Bl=null,Ui=-1,Vi=0;function Re(){return U&6?ie():Ui!==-1?Ui:Ui=ie()}function en(e){return e.mode&1?U&2&&Se!==0?Se&-Se:ew.transition!==null?(Vi===0&&(Vi=Dp()),Vi):(e=V,e!==0||(e=window.event,e=e===void 0?16:Bp(e.type)),e):1}function ft(e,t,n,r){if(50<us)throw us=0,Bl=null,Error(P(185));Hs(e,n,r),(!(U&2)||e!==ge)&&(e===ge&&(!(U&2)&&(Mo|=n),he===4&&Wt(e,Se)),Me(e,r),n===1&&U===0&&!(t.mode&1)&&(Cr=ie()+500,No&&un()))}function Me(e,t){var n=e.callbackNode;e0(e,t);var r=Ji(e,e===ge?Se:0);if(r===0)n!==null&&md(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&md(n),t===1)e.tag===0?Z0(ah.bind(null,e)):am(ah.bind(null,e)),J0(function(){!(U&6)&&un()}),n=null;else{switch(Lp(r)){case 1:n=Ru;break;case 4:n=Np;break;case 16:n=Gi;break;case 536870912:n=Ip;break;default:n=Gi}n=ig(n,Xm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xm(e,t){if(Ui=-1,Vi=0,U&6)throw Error(P(327));var n=e.callbackNode;if(_r()&&e.callbackNode!==n)return null;var r=Ji(e,e===ge?Se:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=po(e,r);else{t=r;var s=U;U|=2;var i=eg();(ge!==e||Se!==t)&&(xt=null,Cr=ie()+500,An(e,t));do try{_w();break}catch(a){Zm(e,a)}while(!0);zu(),co.current=i,U=s,le!==null?t=0:(ge=null,Se=0,t=he)}if(t!==0){if(t===2&&(s=ml(e),s!==0&&(r=s,t=zl(e,s))),t===1)throw n=Os,An(e,0),Wt(e,r),Me(e,ie()),n;if(t===6)Wt(e,r);else{if(s=e.current.alternate,!(r&30)&&!vw(s)&&(t=po(e,r),t===2&&(i=ml(e),i!==0&&(r=i,t=zl(e,i))),t===1))throw n=Os,An(e,0),Wt(e,r),Me(e,ie()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:vn(e,Ne,xt);break;case 3:if(Wt(e,r),(r&130023424)===r&&(t=sc+500-ie(),10<t)){if(Ji(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Re(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=kl(vn.bind(null,e,Ne,xt),t);break}vn(e,Ne,xt);break;case 4:if(Wt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-ht(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yw(r/1960))-r,10<r){e.timeoutHandle=kl(vn.bind(null,e,Ne,xt),r);break}vn(e,Ne,xt);break;case 5:vn(e,Ne,xt);break;default:throw Error(P(329))}}}return Me(e,ie()),e.callbackNode===n?Xm.bind(null,e):null}function zl(e,t){var n=ls;return e.current.memoizedState.isDehydrated&&(An(e,t).flags|=256),e=po(e,t),e!==2&&(t=Ne,Ne=n,t!==null&&Wl(t)),e}function Wl(e){Ne===null?Ne=e:Ne.push.apply(Ne,e)}function vw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!pt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wt(e,t){for(t&=~rc,t&=~Mo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ht(t),r=1<<n;e[n]=-1,t&=~r}}function ah(e){if(U&6)throw Error(P(327));_r();var t=Ji(e,0);if(!(t&1))return Me(e,ie()),null;var n=po(e,t);if(e.tag!==0&&n===2){var r=ml(e);r!==0&&(t=r,n=zl(e,r))}if(n===1)throw n=Os,An(e,0),Wt(e,t),Me(e,ie()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vn(e,Ne,xt),Me(e,ie()),null}function ic(e,t){var n=U;U|=1;try{return e(t)}finally{U=n,U===0&&(Cr=ie()+500,No&&un())}}function Ln(e){qt!==null&&qt.tag===0&&!(U&6)&&_r();var t=U;U|=1;var n=tt.transition,r=V;try{if(tt.transition=null,V=1,e)return e()}finally{V=r,tt.transition=n,U=t,!(U&6)&&un()}}function oc(){Ue=lr.current,W(lr)}function An(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,G0(n)),le!==null)for(n=le.return;n!==null;){var r=n;switch(Vu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&eo();break;case 3:br(),W(De),W(Ce),Ju();break;case 5:Gu(r);break;case 4:br();break;case 13:W(Y);break;case 19:W(Y);break;case 10:Wu(r.type._context);break;case 22:case 23:oc()}n=n.return}if(ge=e,le=e=tn(e.current,null),Se=Ue=t,he=0,Os=null,rc=Mo=Dn=0,Ne=ls=null,Tn!==null){for(t=0;t<Tn.length;t++)if(n=Tn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Tn=null}return e}function Zm(e,t){do{var n=le;try{if(zu(),Li.current=uo,lo){for(var r=X.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}lo=!1}if(In=0,me=de=X=null,os=!1,As=0,nc.current=null,n===null||n.return===null){he=1,Os=t,le=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Se,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Gd(o);if(m!==null){m.flags&=-257,Jd(m,o,a,i,t),m.mode&1&&qd(i,u,t),t=m,l=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(l),t.updateQueue=v}else y.add(l);break e}else{if(!(t&1)){qd(i,u,t),ac();break e}l=Error(P(426))}}else if(H&&a.mode&1){var w=Gd(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Jd(w,o,a,i,t),Fu(Pr(l,a));break e}}i=l=Pr(l,a),he!==4&&(he=2),ls===null?ls=[i]:ls.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=Lm(i,l,t);Fd(i,f);break e;case 1:a=l;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Zt===null||!Zt.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Mm(i,a,t);Fd(i,S);break e}}i=i.return}while(i!==null)}ng(n)}catch(x){t=x,le===n&&n!==null&&(le=n=n.return);continue}break}while(!0)}function eg(){var e=co.current;return co.current=uo,e===null?uo:e}function ac(){(he===0||he===3||he===2)&&(he=4),ge===null||!(Dn&268435455)&&!(Mo&268435455)||Wt(ge,Se)}function po(e,t){var n=U;U|=2;var r=eg();(ge!==e||Se!==t)&&(xt=null,An(e,t));do try{ww();break}catch(s){Zm(e,s)}while(!0);if(zu(),U=n,co.current=r,le!==null)throw Error(P(261));return ge=null,Se=0,he}function ww(){for(;le!==null;)tg(le)}function _w(){for(;le!==null&&!Kv();)tg(le)}function tg(e){var t=sg(e.alternate,e,Ue);e.memoizedProps=e.pendingProps,t===null?ng(e):le=t,nc.current=null}function ng(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=fw(n,t),n!==null){n.flags&=32767,le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,le=null;return}}else if(n=hw(n,t,Ue),n!==null){le=n;return}if(t=t.sibling,t!==null){le=t;return}le=t=e}while(t!==null);he===0&&(he=5)}function vn(e,t,n){var r=V,s=tt.transition;try{tt.transition=null,V=1,Sw(e,t,n,r)}finally{tt.transition=s,V=r}return null}function Sw(e,t,n,r){do _r();while(qt!==null);if(U&6)throw Error(P(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(t0(e,i),e===ge&&(le=ge=null,Se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wi||(wi=!0,ig(Gi,function(){return _r(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=tt.transition,tt.transition=null;var o=V;V=1;var a=U;U|=4,nc.current=null,mw(e,n),Ym(n,e),F0(Sl),Yi=!!_l,Sl=_l=null,e.current=n,gw(n),Hv(),U=a,V=o,tt.transition=i}else e.current=n;if(wi&&(wi=!1,qt=e,fo=s),i=e.pendingLanes,i===0&&(Zt=null),Jv(n.stateNode),Me(e,ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ho)throw ho=!1,e=Fl,Fl=null,e;return fo&1&&e.tag!==0&&_r(),i=e.pendingLanes,i&1?e===Bl?us++:(us=0,Bl=e):us=0,un(),null}function _r(){if(qt!==null){var e=Lp(fo),t=tt.transition,n=V;try{if(tt.transition=null,V=16>e?16:e,qt===null)var r=!1;else{if(e=qt,qt=null,fo=0,U&6)throw Error(P(331));var s=U;for(U|=4,A=e.current;A!==null;){var i=A,o=i.child;if(A.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(A=u;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 15:as(8,c,i)}var d=c.child;if(d!==null)d.return=c,A=d;else for(;A!==null;){c=A;var h=c.sibling,m=c.return;if(qm(c),c===u){A=null;break}if(h!==null){h.return=m,A=h;break}A=m}}}var y=i.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}A=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,A=o;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:as(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,A=f;break e}A=i.return}}var p=e.current;for(A=p;A!==null;){o=A;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,A=g;else e:for(o=p;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Lo(9,a)}}catch(x){ne(a,a.return,x)}if(a===o){A=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,A=S;break e}A=a.return}}if(U=s,un(),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Co,e)}catch{}r=!0}return r}finally{V=n,tt.transition=t}}return!1}function lh(e,t,n){t=Pr(n,t),t=Lm(e,t,1),e=Xt(e,t,1),t=Re(),e!==null&&(Hs(e,1,t),Me(e,t))}function ne(e,t,n){if(e.tag===3)lh(e,e,n);else for(;t!==null;){if(t.tag===3){lh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zt===null||!Zt.has(r))){e=Pr(n,e),e=Mm(t,e,1),t=Xt(t,e,1),e=Re(),t!==null&&(Hs(t,1,e),Me(t,e));break}}t=t.return}}function xw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&n,ge===e&&(Se&n)===n&&(he===4||he===3&&(Se&130023424)===Se&&500>ie()-sc?An(e,0):rc|=n),Me(e,t)}function rg(e,t){t===0&&(e.mode&1?(t=ui,ui<<=1,!(ui&130023424)&&(ui=4194304)):t=1);var n=Re();e=Ot(e,t),e!==null&&(Hs(e,t,n),Me(e,n))}function kw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rg(e,n)}function Ew(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),rg(e,n)}var sg;sg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||De.current)Ie=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ie=!1,dw(e,t,n);Ie=!!(e.flags&131072)}else Ie=!1,H&&t.flags&1048576&&lm(t,ro,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$i(e,t),e=t.pendingProps;var s=kr(t,Ce.current);wr(t,n),s=Qu(null,t,r,e,s,n);var i=Xu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Le(r)?(i=!0,to(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hu(t),s.updater=Do,t.stateNode=s,s._reactInternals=t,Rl(t,r,e,n),t=Nl(null,t,r,!0,i,n)):(t.tag=0,H&&i&&Uu(t),Ae(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch($i(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=bw(r),e=at(r,e),s){case 0:t=Ol(null,t,r,e,n);break e;case 1:t=Xd(null,t,r,e,n);break e;case 11:t=Yd(null,t,r,e,n);break e;case 14:t=Qd(null,t,r,at(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:at(r,s),Ol(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:at(r,s),Xd(e,t,r,s,n);case 3:e:{if(Fm(t),e===null)throw Error(P(387));r=t.pendingProps,i=t.memoizedState,s=i.element,pm(e,t),oo(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Pr(Error(P(423)),t),t=Zd(e,t,r,n,s);break e}else if(r!==s){s=Pr(Error(P(424)),t),t=Zd(e,t,r,n,s);break e}else for(Be=Qt(t.stateNode.containerInfo.firstChild),ze=t,H=!0,dt=null,n=hm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Er(),r===s){t=Nt(e,t,n);break e}Ae(e,t,r,n)}t=t.child}return t;case 5:return mm(t),e===null&&Pl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,xl(r,s)?o=null:i!==null&&xl(r,i)&&(t.flags|=32),Vm(e,t),Ae(e,t,o,n),t.child;case 6:return e===null&&Pl(t),null;case 13:return Bm(e,t,n);case 4:return qu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Tr(t,null,r,n):Ae(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:at(r,s),Yd(e,t,r,s,n);case 7:return Ae(e,t,t.pendingProps,n),t.child;case 8:return Ae(e,t,t.pendingProps.children,n),t.child;case 12:return Ae(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,B(so,r._currentValue),r._currentValue=o,i!==null)if(pt(i.value,o)){if(i.children===s.children&&!De.current){t=Nt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Pt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Cl(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cl(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ae(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,wr(t,n),s=nt(s),r=r(s),t.flags|=1,Ae(e,t,r,n),t.child;case 14:return r=t.type,s=at(r,t.pendingProps),s=at(r.type,s),Qd(e,t,r,s,n);case 15:return $m(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:at(r,s),$i(e,t),t.tag=1,Le(r)?(e=!0,to(t)):e=!1,wr(t,n),Dm(t,r,s),Rl(t,r,s,n),Nl(null,t,r,!0,e,n);case 19:return zm(e,t,n);case 22:return Um(e,t,n)}throw Error(P(156,t.tag))};function ig(e,t){return Op(e,t)}function Tw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function et(e,t,n,r){return new Tw(e,t,n,r)}function lc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bw(e){if(typeof e=="function")return lc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pu)return 11;if(e===Cu)return 14}return 2}function tn(e,t){var n=e.alternate;return n===null?(n=et(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fi(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")lc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Xn:return Rn(n.children,s,i,t);case bu:o=8,s|=8;break;case el:return e=et(12,n,t,s|2),e.elementType=el,e.lanes=i,e;case tl:return e=et(13,n,t,s),e.elementType=tl,e.lanes=i,e;case nl:return e=et(19,n,t,s),e.elementType=nl,e.lanes=i,e;case mp:return $o(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fp:o=10;break e;case pp:o=9;break e;case Pu:o=11;break e;case Cu:o=14;break e;case Vt:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=et(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Rn(e,t,n,r){return e=et(7,e,r,t),e.lanes=n,e}function $o(e,t,n,r){return e=et(22,e,r,t),e.elementType=mp,e.lanes=n,e.stateNode={isHidden:!1},e}function ka(e,t,n){return e=et(6,e,null,t),e.lanes=n,e}function Ea(e,t,n){return t=et(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pw(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sa(0),this.expirationTimes=sa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function uc(e,t,n,r,s,i,o,a,l){return e=new Pw(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=et(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hu(i),e}function Cw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function og(e){if(!e)return rn;e=e._reactInternals;e:{if($n(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Le(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Le(n))return om(e,n,t)}return t}function ag(e,t,n,r,s,i,o,a,l){return e=uc(n,r,!0,e,s,i,o,a,l),e.context=og(null),n=e.current,r=Re(),s=en(n),i=Pt(r,s),i.callback=t??null,Xt(n,i,s),e.current.lanes=s,Hs(e,s,r),Me(e,r),e}function Uo(e,t,n,r){var s=t.current,i=Re(),o=en(s);return n=og(n),t.context===null?t.context=n:t.pendingContext=n,t=Pt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xt(s,t,o),e!==null&&(ft(e,s,o,i),Di(e,s,o)),o}function mo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cc(e,t){uh(e,t),(e=e.alternate)&&uh(e,t)}function Aw(){return null}var lg=typeof reportError=="function"?reportError:function(e){console.error(e)};function dc(e){this._internalRoot=e}Vo.prototype.render=dc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));Uo(e,t,null,null)};Vo.prototype.unmount=dc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ln(function(){Uo(null,e,null,null)}),t[jt]=null}};function Vo(e){this._internalRoot=e}Vo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Up();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zt.length&&t!==0&&t<zt[n].priority;n++);zt.splice(n,0,e),n===0&&Fp(e)}};function hc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ch(){}function Rw(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=mo(o);i.call(u)}}var o=ag(t,r,e,0,null,!1,!1,"",ch);return e._reactRootContainer=o,e[jt]=o.current,Es(e.nodeType===8?e.parentNode:e),Ln(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=mo(l);a.call(u)}}var l=uc(e,0,!1,null,null,!1,!1,"",ch);return e._reactRootContainer=l,e[jt]=l.current,Es(e.nodeType===8?e.parentNode:e),Ln(function(){Uo(t,l,n,r)}),l}function Bo(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=mo(o);a.call(l)}}Uo(t,o,e,s)}else o=Rw(n,t,e,s,r);return mo(o)}Mp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jr(t.pendingLanes);n!==0&&(ju(t,n|1),Me(t,ie()),!(U&6)&&(Cr=ie()+500,un()))}break;case 13:Ln(function(){var r=Ot(e,1);if(r!==null){var s=Re();ft(r,e,1,s)}}),cc(e,1)}};Ou=function(e){if(e.tag===13){var t=Ot(e,134217728);if(t!==null){var n=Re();ft(t,e,134217728,n)}cc(e,134217728)}};$p=function(e){if(e.tag===13){var t=en(e),n=Ot(e,t);if(n!==null){var r=Re();ft(n,e,t,r)}cc(e,t)}};Up=function(){return V};Vp=function(e,t){var n=V;try{return V=e,t()}finally{V=n}};hl=function(e,t,n){switch(t){case"input":if(il(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Oo(r);if(!s)throw Error(P(90));yp(r),il(r,s)}}}break;case"textarea":wp(e,n);break;case"select":t=n.value,t!=null&&mr(e,!!n.multiple,t,!1)}};bp=ic;Pp=Ln;var jw={usingClientEntryPoint:!1,Events:[Gs,nr,Oo,Ep,Tp,ic]},Kr={findFiberByHostInstance:En,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ow={bundleType:Kr.bundleType,version:Kr.version,rendererPackageName:Kr.rendererPackageName,rendererConfig:Kr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rp(e),e===null?null:e.stateNode},findFiberByHostInstance:Kr.findFiberByHostInstance||Aw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_i.isDisabled&&_i.supportsFiber)try{Co=_i.inject(Ow),vt=_i}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jw;qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hc(t))throw Error(P(200));return Cw(e,t,null,n)};qe.createRoot=function(e,t){if(!hc(e))throw Error(P(299));var n=!1,r="",s=lg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=uc(e,1,!1,null,null,n,!1,r,s),e[jt]=t.current,Es(e.nodeType===8?e.parentNode:e),new dc(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Rp(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return Ln(e)};qe.hydrate=function(e,t,n){if(!Fo(t))throw Error(P(200));return Bo(null,e,t,!0,n)};qe.hydrateRoot=function(e,t,n){if(!hc(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=lg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=ag(t,null,e,1,n??null,s,!1,i,o),e[jt]=t.current,Es(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Vo(t)};qe.render=function(e,t,n){if(!Fo(t))throw Error(P(200));return Bo(null,e,t,!1,n)};qe.unmountComponentAtNode=function(e){if(!Fo(e))throw Error(P(40));return e._reactRootContainer?(Ln(function(){Bo(null,null,e,!1,function(){e._reactRootContainer=null,e[jt]=null})}),!0):!1};qe.unstable_batchedUpdates=ic;qe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fo(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Bo(e,t,n,!1,r)};qe.version="18.3.1-next-f1338f8080-20240426";function ug(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ug)}catch(e){console.error(e)}}ug(),up.exports=qe;var Nw=up.exports,dh=Nw;Xa.createRoot=dh.createRoot,Xa.hydrateRoot=dh.hydrateRoot;const fc=T.createContext({});function pc(e){const t=T.useRef(null);return t.current===null&&(t.current=e()),t.current}const zo=T.createContext(null),mc=T.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Iw extends T.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Dw({children:e,isPresent:t}){const n=T.useId(),r=T.useRef(null),s=T.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=T.useContext(mc);return T.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=s.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return i&&(c.nonce=i),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),_.jsx(Iw,{isPresent:t,childRef:r,sizeRef:s,children:T.cloneElement(e,{ref:r})})}const Lw=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=pc(Mw),l=T.useId(),u=T.useCallback(d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},[a,r]),c=T.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:u,register:d=>(a.set(d,!1),()=>a.delete(d))}),i?[Math.random(),u]:[n,u]);return T.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),T.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=_.jsx(Dw,{isPresent:n,children:e})),_.jsx(zo.Provider,{value:c,children:e})};function Mw(){return new Map}function cg(e=!0){const t=T.useContext(zo);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=T.useId();T.useEffect(()=>{e&&s(i)},[e]);const o=T.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Si=e=>e.key||"";function hh(e){const t=[];return T.Children.forEach(e,n=>{T.isValidElement(n)&&t.push(n)}),t}const gc=typeof window<"u",dg=gc?T.useLayoutEffect:T.useEffect,yc=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=cg(o),u=T.useMemo(()=>hh(e),[e]),c=o&&!a?[]:u.map(Si),d=T.useRef(!0),h=T.useRef(u),m=pc(()=>new Map),[y,v]=T.useState(u),[w,f]=T.useState(u);dg(()=>{d.current=!1,h.current=u;for(let S=0;S<w.length;S++){const x=Si(w[S]);c.includes(x)?m.delete(x):m.get(x)!==!0&&m.set(x,!1)}},[w,c.length,c.join("-")]);const p=[];if(u!==y){let S=[...u];for(let x=0;x<w.length;x++){const k=w[x],b=Si(k);c.includes(b)||(S.splice(x,0,k),p.push(k))}i==="wait"&&p.length&&(S=p),f(hh(S)),v(u);return}const{forceRender:g}=T.useContext(fc);return _.jsx(_.Fragment,{children:w.map(S=>{const x=Si(S),k=o&&!a?!1:u===w||c.includes(x),b=()=>{if(m.has(x))m.set(x,!0);else return;let E=!0;m.forEach(I=>{I||(E=!1)}),E&&(g==null||g(),f(h.current),o&&(l==null||l()),r&&r())};return _.jsx(Lw,{isPresent:k,initial:!d.current||n?void 0:!1,custom:k?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:k?void 0:b,children:S},x)})})},We=e=>e;let hg=We;function vc(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ar=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Ct=e=>e*1e3,At=e=>e/1e3,$w={useManualTiming:!1};function Uw(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){i.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,c=!1,d=!1)=>{const m=d&&r?t:n;return c&&i.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,s&&(s=!1,l.process(u))}};return l}const xi=["read","resolveKeyframes","update","preRender","render","postRender"],Vw=40;function fg(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=xi.reduce((f,p)=>(f[p]=Uw(i),f),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:d,postRender:h}=o,m=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,Vw),1),s.timestamp=f,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),c.process(s),d.process(s),h.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(m))},y=()=>{n=!0,r=!0,s.isProcessing||e(m)};return{schedule:xi.reduce((f,p)=>{const g=o[p];return f[p]=(S,x=!1,k=!1)=>(n||y(),g.schedule(S,x,k)),f},{}),cancel:f=>{for(let p=0;p<xi.length;p++)o[xi[p]].cancel(f)},state:s,steps:o}}const{schedule:K,cancel:sn,state:_e,steps:Ta}=fg(typeof requestAnimationFrame<"u"?requestAnimationFrame:We,!0),pg=T.createContext({strict:!1}),fh={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rr={};for(const e in fh)Rr[e]={isEnabled:t=>fh[e].some(n=>!!t[n])};function Fw(e){for(const t in e)Rr[t]={...Rr[t],...e[t]}}const Bw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function go(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Bw.has(e)}let mg=e=>!go(e);function zw(e){e&&(mg=t=>t.startsWith("on")?!go(t):e(t))}try{zw(require("@emotion/is-prop-valid").default)}catch{}function Ww(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(mg(s)||n===!0&&go(s)||!t&&!go(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Kw(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Wo=T.createContext({});function Ns(e){return typeof e=="string"||Array.isArray(e)}function Ko(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const wc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_c=["initial",...wc];function Ho(e){return Ko(e.animate)||_c.some(t=>Ns(e[t]))}function gg(e){return!!(Ho(e)||e.variants)}function Hw(e,t){if(Ho(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ns(n)?n:void 0,animate:Ns(r)?r:void 0}}return e.inherit!==!1?t:{}}function qw(e){const{initial:t,animate:n}=Hw(e,T.useContext(Wo));return T.useMemo(()=>({initial:t,animate:n}),[ph(t),ph(n)])}function ph(e){return Array.isArray(e)?e.join(" "):e}const Gw=Symbol.for("motionComponentSymbol");function ur(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Jw(e,t,n){return T.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ur(n)&&(n.current=r))},[t])}const Sc=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Yw="framerAppearId",yg="data-"+Sc(Yw),{schedule:xc}=fg(queueMicrotask,!1),vg=T.createContext({});function Qw(e,t,n,r,s){var i,o;const{visualElement:a}=T.useContext(Wo),l=T.useContext(pg),u=T.useContext(zo),c=T.useContext(mc).reducedMotion,d=T.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,m=T.useContext(vg);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&Xw(d.current,n,s,m);const y=T.useRef(!1);T.useInsertionEffect(()=>{h&&y.current&&h.update(n,u)});const v=n[yg],w=T.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return dg(()=>{h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),xc.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),T.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var f;(f=window.MotionHandoffMarkAsComplete)===null||f===void 0||f.call(window,v)}),w.current=!1))}),h}function Xw(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:wg(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&ur(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function wg(e){if(e)return e.options.allowProjection!==!1?e.projection:wg(e.parent)}function Zw({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var i,o;e&&Fw(e);function a(u,c){let d;const h={...T.useContext(mc),...u,layoutId:e_(u)},{isStatic:m}=h,y=qw(u),v=r(u,m);if(!m&&gc){t_();const w=n_(h);d=w.MeasureLayout,y.visualElement=Qw(s,v,h,t,w.ProjectionNode)}return _.jsxs(Wo.Provider,{value:y,children:[d&&y.visualElement?_.jsx(d,{visualElement:y.visualElement,...h}):null,n(s,u,Jw(v,y.visualElement,c),v,m,y.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=T.forwardRef(a);return l[Gw]=s,l}function e_({layoutId:e}){const t=T.useContext(fc).id;return t&&e!==void 0?t+"-"+e:e}function t_(e,t){T.useContext(pg).strict}function n_(e){const{drag:t,layout:n}=Rr;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const r_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kc(e){return typeof e!="string"||e.includes("-")?!1:!!(r_.indexOf(e)>-1||/[A-Z]/u.test(e))}function mh(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Ec(e,t,n,r){if(typeof t=="function"){const[s,i]=mh(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=mh(r);t=t(n!==void 0?n:e.custom,s,i)}return t}const Kl=e=>Array.isArray(e),s_=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),i_=e=>Kl(e)?e[e.length-1]||0:e,Pe=e=>!!(e&&e.getVelocity);function Bi(e){const t=Pe(e)?e.get():e;return s_(t)?t.toValue():t}function o_({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,i){const o={latestValues:a_(r,s,i,e),renderState:t()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const _g=e=>(t,n)=>{const r=T.useContext(Wo),s=T.useContext(zo),i=()=>o_(e,t,r,s);return n?i():pc(i)};function a_(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=Bi(i[h]);let{initial:o,animate:a}=e;const l=Ho(e),u=gg(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;if(d&&typeof d!="boolean"&&!Ko(d)){const h=Array.isArray(d)?d:[d];for(let m=0;m<h.length;m++){const y=Ec(e,h[m]);if(y){const{transitionEnd:v,transition:w,...f}=y;for(const p in f){let g=f[p];if(Array.isArray(g)){const S=c?g.length-1:0;g=g[S]}g!==null&&(s[p]=g)}for(const p in v)s[p]=v[p]}}}return s}const Dr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Un=new Set(Dr),Sg=e=>t=>typeof t=="string"&&t.startsWith(e),xg=Sg("--"),l_=Sg("var(--"),Tc=e=>l_(e)?u_.test(e.split("/*")[0].trim()):!1,u_=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kg=(e,t)=>t&&typeof e=="number"?t.transform(e):e,It=(e,t,n)=>n>t?t:n<e?e:n,Lr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Is={...Lr,transform:e=>It(0,1,e)},ki={...Lr,default:1},Ys=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ut=Ys("deg"),_t=Ys("%"),O=Ys("px"),c_=Ys("vh"),d_=Ys("vw"),gh={..._t,parse:e=>_t.parse(e)/100,transform:e=>_t.transform(e*100)},h_={borderWidth:O,borderTopWidth:O,borderRightWidth:O,borderBottomWidth:O,borderLeftWidth:O,borderRadius:O,radius:O,borderTopLeftRadius:O,borderTopRightRadius:O,borderBottomRightRadius:O,borderBottomLeftRadius:O,width:O,maxWidth:O,height:O,maxHeight:O,top:O,right:O,bottom:O,left:O,padding:O,paddingTop:O,paddingRight:O,paddingBottom:O,paddingLeft:O,margin:O,marginTop:O,marginRight:O,marginBottom:O,marginLeft:O,backgroundPositionX:O,backgroundPositionY:O},f_={rotate:Ut,rotateX:Ut,rotateY:Ut,rotateZ:Ut,scale:ki,scaleX:ki,scaleY:ki,scaleZ:ki,skew:Ut,skewX:Ut,skewY:Ut,distance:O,translateX:O,translateY:O,translateZ:O,x:O,y:O,z:O,perspective:O,transformPerspective:O,opacity:Is,originX:gh,originY:gh,originZ:O},yh={...Lr,transform:Math.round},bc={...h_,...f_,zIndex:yh,size:O,fillOpacity:Is,strokeOpacity:Is,numOctaves:yh},p_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},m_=Dr.length;function g_(e,t,n){let r="",s=!0;for(let i=0;i<m_;i++){const o=Dr[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=kg(a,bc[o]);if(!l){s=!1;const c=p_[o]||o;r+=`${c}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Pc(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(Un.has(l)){o=!0;continue}else if(xg(l)){s[l]=u;continue}else{const c=kg(u,bc[l]);l.startsWith("origin")?(a=!0,i[l]=c):r[l]=c}}if(t.transform||(o||n?r.transform=g_(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=i;r.transformOrigin=`${l} ${u} ${c}`}}const y_={offset:"stroke-dashoffset",array:"stroke-dasharray"},v_={offset:"strokeDashoffset",array:"strokeDasharray"};function w_(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?y_:v_;e[i.offset]=O.transform(-r);const o=O.transform(t),a=O.transform(n);e[i.array]=`${o} ${a}`}function vh(e,t,n){return typeof e=="string"?e:O.transform(t+n*e)}function __(e,t,n){const r=vh(t,e.x,e.width),s=vh(n,e.y,e.height);return`${r} ${s}`}function Cc(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,d){if(Pc(e,u,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m,dimensions:y}=e;h.transform&&(y&&(m.transform=h.transform),delete h.transform),y&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=__(y,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&w_(h,o,a,l,!1)}const Ac=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Eg=()=>({...Ac(),attrs:{}}),Rc=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Tg(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const bg=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Pg(e,t,n,r){Tg(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(bg.has(s)?s:Sc(s),t.attrs[s])}const yo={};function S_(e){Object.assign(yo,e)}function Cg(e,{layout:t,layoutId:n}){return Un.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!yo[e]||e==="opacity")}function jc(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(Pe(s[o])||t.style&&Pe(t.style[o])||Cg(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function Ag(e,t,n){const r=jc(e,t,n);for(const s in e)if(Pe(e[s])||Pe(t[s])){const i=Dr.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function x_(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const wh=["x","y","width","height","cx","cy","r"],k_={useVisualState:_g({scrapeMotionValuesFromProps:Ag,createRenderState:Eg,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!e.drag;if(!i){for(const a in s)if(Un.has(a)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let a=0;a<wh.length;a++){const l=wh[a];e[l]!==t[l]&&(o=!0)}o&&K.read(()=>{x_(n,r),K.render(()=>{Cc(r,s,Rc(n.tagName),e.transformTemplate),Pg(n,r)})})}})},E_={useVisualState:_g({scrapeMotionValuesFromProps:jc,createRenderState:Ac})};function Rg(e,t,n){for(const r in t)!Pe(t[r])&&!Cg(r,n)&&(e[r]=t[r])}function T_({transformTemplate:e},t){return T.useMemo(()=>{const n=Ac();return Pc(n,t,e),Object.assign({},n.vars,n.style)},[t])}function b_(e,t){const n=e.style||{},r={};return Rg(r,n,e),Object.assign(r,T_(e,t)),r}function P_(e,t){const n={},r=b_(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function C_(e,t,n,r){const s=T.useMemo(()=>{const i=Eg();return Cc(i,t,Rc(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Rg(i,e.style,e),s.style={...i,...s.style}}return s}function A_(e=!1){return(n,r,s,{latestValues:i},o)=>{const l=(kc(n)?C_:P_)(r,i,o,n),u=Ww(r,typeof n=="string",e),c=n!==T.Fragment?{...u,...l,ref:s}:{},{children:d}=r,h=T.useMemo(()=>Pe(d)?d.get():d,[d]);return T.createElement(n,{...c,children:h})}}function R_(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...kc(r)?k_:E_,preloadedFeatures:e,useRender:A_(s),createVisualElement:t,Component:r};return Zw(o)}}function jg(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function qo(e,t,n){const r=e.getProps();return Ec(r,t,n!==void 0?n:r.custom,e)}const j_=vc(()=>window.ScrollTimeline!==void 0);class O_{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(j_()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class N_ extends O_{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Oc(e,t){return e?e[t]||e.default||e:void 0}const Hl=2e4;function Og(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Hl;)t+=n,r=e.next(t);return t>=Hl?1/0:t}function Nc(e){return typeof e=="function"}function _h(e,t){e.timeline=t,e.onfinish=null}const Ic=e=>Array.isArray(e)&&typeof e[0]=="number",I_={linearEasing:void 0};function D_(e,t){const n=vc(e);return()=>{var r;return(r=I_[t])!==null&&r!==void 0?r:n()}}const vo=D_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ng=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(Ar(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function Ig(e){return!!(typeof e=="function"&&vo()||!e||typeof e=="string"&&(e in ql||vo())||Ic(e)||Array.isArray(e)&&e.every(Ig))}const Qr=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,ql={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qr([0,.65,.55,1]),circOut:Qr([.55,0,1,.45]),backIn:Qr([.31,.01,.66,-.59]),backOut:Qr([.33,1.53,.69,.99])};function Dg(e,t){if(e)return typeof e=="function"&&vo()?Ng(e,t):Ic(e)?Qr(e):Array.isArray(e)?e.map(n=>Dg(n,t)||ql.easeOut):ql[e]}const ot={x:!1,y:!1};function Lg(){return ot.x||ot.y}function L_(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function Mg(e,t){const n=L_(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Sh(e){return t=>{t.pointerType==="touch"||Lg()||e(t)}}function M_(e,t,n={}){const[r,s,i]=Mg(e,n),o=Sh(a=>{const{target:l}=a,u=t(a);if(typeof u!="function"||!l)return;const c=Sh(d=>{u(d),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,s)});return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const $g=(e,t)=>t?e===t?!0:$g(e,t.parentElement):!1,Dc=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,$_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function U_(e){return $_.has(e.tagName)||e.tabIndex!==-1}const Xr=new WeakSet;function xh(e){return t=>{t.key==="Enter"&&e(t)}}function ba(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const V_=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=xh(()=>{if(Xr.has(n))return;ba(n,"down");const s=xh(()=>{ba(n,"up")}),i=()=>ba(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function kh(e){return Dc(e)&&!Lg()}function F_(e,t,n={}){const[r,s,i]=Mg(e,n),o=a=>{const l=a.currentTarget;if(!kh(a)||Xr.has(l))return;Xr.add(l);const u=t(a),c=(m,y)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),!(!kh(m)||!Xr.has(l))&&(Xr.delete(l),typeof u=="function"&&u(m,{success:y}))},d=m=>{c(m,n.useGlobalTarget||$g(l,m.target))},h=m=>{c(m,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",h,s)};return r.forEach(a=>{!U_(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",u=>V_(u,s),s)}),i}function B_(e){return e==="x"||e==="y"?ot[e]?null:(ot[e]=!0,()=>{ot[e]=!1}):ot.x||ot.y?null:(ot.x=ot.y=!0,()=>{ot.x=ot.y=!1})}const Ug=new Set(["width","height","top","left","right","bottom",...Dr]);let zi;function z_(){zi=void 0}const St={now:()=>(zi===void 0&&St.set(_e.isProcessing||$w.useManualTiming?_e.timestamp:performance.now()),zi),set:e=>{zi=e,queueMicrotask(z_)}};function Lc(e,t){e.indexOf(t)===-1&&e.push(t)}function Mc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class $c{constructor(){this.subscriptions=[]}add(t){return Lc(this.subscriptions,t),()=>Mc(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Vg(e,t){return t?e*(1e3/t):0}const Eh=30,W_=e=>!isNaN(parseFloat(e));class K_{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=St.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=St.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=W_(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new $c);const r=this.events[t].add(n);return t==="change"?()=>{r(),K.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=St.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Eh)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Eh);return Vg(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ds(e,t){return new K_(e,t)}function H_(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ds(n))}function q_(e,t){const n=qo(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=i_(i[o]);H_(e,o,a)}}function G_(e){return!!(Pe(e)&&e.add)}function Gl(e,t){const n=e.getValue("willChange");if(G_(n))return n.add(t)}function Fg(e){return e.props[yg]}const Bg=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,J_=1e-7,Y_=12;function Q_(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=Bg(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>J_&&++a<Y_);return o}function Qs(e,t,n,r){if(e===t&&n===r)return We;const s=i=>Q_(i,0,1,e,n);return i=>i===0||i===1?i:Bg(s(i),t,r)}const zg=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Wg=e=>t=>1-e(1-t),Kg=Qs(.33,1.53,.69,.99),Uc=Wg(Kg),Hg=zg(Uc),qg=e=>(e*=2)<1?.5*Uc(e):.5*(2-Math.pow(2,-10*(e-1))),Vc=e=>1-Math.sin(Math.acos(e)),Gg=Wg(Vc),Jg=zg(Vc),Yg=e=>/^0[^.\s]+$/u.test(e);function X_(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Yg(e):!0}const cs=e=>Math.round(e*1e5)/1e5,Fc=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Z_(e){return e==null}const eS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Bc=(e,t)=>n=>!!(typeof n=="string"&&eS.test(n)&&n.startsWith(e)||t&&!Z_(n)&&Object.prototype.hasOwnProperty.call(n,t)),Qg=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Fc);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},tS=e=>It(0,255,e),Pa={...Lr,transform:e=>Math.round(tS(e))},Pn={test:Bc("rgb","red"),parse:Qg("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Pa.transform(e)+", "+Pa.transform(t)+", "+Pa.transform(n)+", "+cs(Is.transform(r))+")"};function nS(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Jl={test:Bc("#"),parse:nS,transform:Pn.transform},cr={test:Bc("hsl","hue"),parse:Qg("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+_t.transform(cs(t))+", "+_t.transform(cs(n))+", "+cs(Is.transform(r))+")"},Te={test:e=>Pn.test(e)||Jl.test(e)||cr.test(e),parse:e=>Pn.test(e)?Pn.parse(e):cr.test(e)?cr.parse(e):Jl.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Pn.transform(e):cr.transform(e)},rS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sS(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Fc))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(rS))===null||n===void 0?void 0:n.length)||0)>0}const Xg="number",Zg="color",iS="var",oS="var(",Th="${}",aS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ls(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(aS,l=>(Te.test(l)?(r.color.push(i),s.push(Zg),n.push(Te.parse(l))):l.startsWith(oS)?(r.var.push(i),s.push(iS),n.push(l)):(r.number.push(i),s.push(Xg),n.push(parseFloat(l))),++i,Th)).split(Th);return{values:n,split:a,indexes:r,types:s}}function ey(e){return Ls(e).values}function ty(e){const{split:t,types:n}=Ls(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===Xg?i+=cs(s[o]):a===Zg?i+=Te.transform(s[o]):i+=s[o]}return i}}const lS=e=>typeof e=="number"?0:e;function uS(e){const t=ey(e);return ty(e)(t.map(lS))}const on={test:sS,parse:ey,createTransformer:ty,getAnimatableNone:uS},cS=new Set(["brightness","contrast","saturate","opacity"]);function dS(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Fc)||[];if(!r)return e;const s=n.replace(r,"");let i=cS.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const hS=/\b([a-z-]*)\(.*?\)/gu,Yl={...on,getAnimatableNone:e=>{const t=e.match(hS);return t?t.map(dS).join(" "):e}},fS={...bc,color:Te,backgroundColor:Te,outlineColor:Te,fill:Te,stroke:Te,borderColor:Te,borderTopColor:Te,borderRightColor:Te,borderBottomColor:Te,borderLeftColor:Te,filter:Yl,WebkitFilter:Yl},zc=e=>fS[e];function ny(e,t){let n=zc(e);return n!==Yl&&(n=on),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const pS=new Set(["auto","none","0"]);function mS(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!pS.has(i)&&Ls(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=ny(n,s)}const bh=e=>e===Lr||e===O,Ph=(e,t)=>parseFloat(e.split(", ")[t]),Ch=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Ph(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?Ph(i[1],e):0}},gS=new Set(["x","y","z"]),yS=Dr.filter(e=>!gS.has(e));function vS(e){const t=[];return yS.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const jr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Ch(4,13),y:Ch(5,14)};jr.translateX=jr.x;jr.translateY=jr.y;const jn=new Set;let Ql=!1,Xl=!1;function ry(){if(Xl){const e=Array.from(jn).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=vS(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Xl=!1,Ql=!1,jn.forEach(e=>e.complete()),jn.clear()}function sy(){jn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Xl=!0)})}function wS(){sy(),ry()}class Wc{constructor(t,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(jn.add(this),Ql||(Ql=!0,K.read(sy),K.resolveKeyframes(ry))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),jn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,jn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const iy=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),_S=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SS(e){const t=_S.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function oy(e,t,n=1){const[r,s]=SS(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return iy(o)?parseFloat(o):o}return Tc(s)?oy(s,t,n+1):s}const ay=e=>t=>t.test(e),xS={test:e=>e==="auto",parse:e=>e},ly=[Lr,O,_t,Ut,d_,c_,xS],Ah=e=>ly.find(ay(e));class uy extends Wc{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),Tc(u))){const c=oy(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Ug.has(r)||t.length!==2)return;const[s,i]=t,o=Ah(s),a=Ah(i);if(o!==a)if(bh(o)&&bh(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)X_(t[s])&&r.push(s);r.length&&mS(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=jr[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const Rh=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(on.test(e)||e==="0")&&!e.startsWith("url("));function kS(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function ES(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Rh(s,t),a=Rh(i,t);return!o||!a?!1:kS(e)||(n==="spring"||Nc(n))&&r}const TS=e=>e!==null;function Go(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(TS),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const bS=40;class cy{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=St.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>bS?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&wS(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=St.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!ES(t,r,s,i))if(o)this.options.duration=0;else{l&&l(Go(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const c=this.initPlayback(t,n);c!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Q=(e,t,n)=>e+(t-e)*n;function Ca(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function PS({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=Ca(l,a,e+1/3),i=Ca(l,a,e),o=Ca(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function wo(e,t){return n=>n>0?t:e}const Aa=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},CS=[Jl,Pn,cr],AS=e=>CS.find(t=>t.test(e));function jh(e){const t=AS(e);if(!t)return!1;let n=t.parse(e);return t===cr&&(n=PS(n)),n}const Oh=(e,t)=>{const n=jh(e),r=jh(t);if(!n||!r)return wo(e,t);const s={...n};return i=>(s.red=Aa(n.red,r.red,i),s.green=Aa(n.green,r.green,i),s.blue=Aa(n.blue,r.blue,i),s.alpha=Q(n.alpha,r.alpha,i),Pn.transform(s))},RS=(e,t)=>n=>t(e(n)),Xs=(...e)=>e.reduce(RS),Zl=new Set(["none","hidden"]);function jS(e,t){return Zl.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function OS(e,t){return n=>Q(e,t,n)}function Kc(e){return typeof e=="number"?OS:typeof e=="string"?Tc(e)?wo:Te.test(e)?Oh:DS:Array.isArray(e)?dy:typeof e=="object"?Te.test(e)?Oh:NS:wo}function dy(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>Kc(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function NS(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Kc(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function IS(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][s[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const DS=(e,t)=>{const n=on.createTransformer(t),r=Ls(e),s=Ls(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Zl.has(e)&&!s.values.length||Zl.has(t)&&!r.values.length?jS(e,t):Xs(dy(IS(r,s),s.values),n):wo(e,t)};function hy(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Q(e,t,n):Kc(e)(e,t)}const LS=5;function fy(e,t,n){const r=Math.max(t-LS,0);return Vg(n-e(r),t-r)}const te={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ra=.001;function MS({duration:e=te.duration,bounce:t=te.bounce,velocity:n=te.velocity,mass:r=te.mass}){let s,i,o=1-t;o=It(te.minDamping,te.maxDamping,o),e=It(te.minDuration,te.maxDuration,At(e)),o<1?(s=u=>{const c=u*o,d=c*e,h=c-n,m=eu(u,o),y=Math.exp(-d);return Ra-h/m*y},i=u=>{const d=u*o*e,h=d*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-d),v=eu(Math.pow(u,2),o);return(-s(u)+Ra>0?-1:1)*((h-m)*y)/v}):(s=u=>{const c=Math.exp(-u*e),d=(u-n)*e+1;return-Ra+c*d},i=u=>{const c=Math.exp(-u*e),d=(n-u)*(e*e);return c*d});const a=5/e,l=US(s,i,a);if(e=Ct(e),isNaN(l))return{stiffness:te.stiffness,damping:te.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const $S=12;function US(e,t,n){let r=n;for(let s=1;s<$S;s++)r=r-e(r)/t(r);return r}function eu(e,t){return e*Math.sqrt(1-t*t)}const VS=["duration","bounce"],FS=["stiffness","damping","mass"];function Nh(e,t){return t.some(n=>e[n]!==void 0)}function BS(e){let t={velocity:te.velocity,stiffness:te.stiffness,damping:te.damping,mass:te.mass,isResolvedFromDuration:!1,...e};if(!Nh(e,FS)&&Nh(e,VS))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*It(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:te.mass,stiffness:s,damping:i}}else{const n=MS(e);t={...t,...n,mass:te.mass},t.isResolvedFromDuration=!0}return t}function py(e=te.visualDuration,t=te.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:c,duration:d,velocity:h,isResolvedFromDuration:m}=BS({...n,velocity:-At(n.velocity||0)}),y=h||0,v=u/(2*Math.sqrt(l*c)),w=o-i,f=At(Math.sqrt(l/c)),p=Math.abs(w)<5;r||(r=p?te.restSpeed.granular:te.restSpeed.default),s||(s=p?te.restDelta.granular:te.restDelta.default);let g;if(v<1){const x=eu(f,v);g=k=>{const b=Math.exp(-v*f*k);return o-b*((y+v*f*w)/x*Math.sin(x*k)+w*Math.cos(x*k))}}else if(v===1)g=x=>o-Math.exp(-f*x)*(w+(y+f*w)*x);else{const x=f*Math.sqrt(v*v-1);g=k=>{const b=Math.exp(-v*f*k),E=Math.min(x*k,300);return o-b*((y+v*f*w)*Math.sinh(E)+x*w*Math.cosh(E))/x}}const S={calculatedDuration:m&&d||null,next:x=>{const k=g(x);if(m)a.done=x>=d;else{let b=0;v<1&&(b=x===0?Ct(y):fy(g,x,k));const E=Math.abs(b)<=r,I=Math.abs(o-k)<=s;a.done=E&&I}return a.value=a.done?o:k,a},toString:()=>{const x=Math.min(Og(S),Hl),k=Ng(b=>S.next(x*b).value,x,30);return x+"ms "+k}};return S}function Ih({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=e[0],h={done:!1,value:d},m=E=>a!==void 0&&E<a||l!==void 0&&E>l,y=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let v=n*t;const w=d+v,f=o===void 0?w:o(w);f!==w&&(v=f-d);const p=E=>-v*Math.exp(-E/r),g=E=>f+p(E),S=E=>{const I=p(E),D=g(E);h.done=Math.abs(I)<=u,h.value=h.done?f:D};let x,k;const b=E=>{m(h.value)&&(x=E,k=py({keyframes:[h.value,y(h.value)],velocity:fy(g,E,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return b(0),{calculatedDuration:null,next:E=>{let I=!1;return!k&&x===void 0&&(I=!0,S(E),b(E)),x!==void 0&&E>=x?k.next(E-x):(!I&&S(E),h)}}}const zS=Qs(.42,0,1,1),WS=Qs(0,0,.58,1),my=Qs(.42,0,.58,1),KS=e=>Array.isArray(e)&&typeof e[0]!="number",HS={linear:We,easeIn:zS,easeInOut:my,easeOut:WS,circIn:Vc,circInOut:Jg,circOut:Gg,backIn:Uc,backInOut:Hg,backOut:Kg,anticipate:qg},Dh=e=>{if(Ic(e)){hg(e.length===4);const[t,n,r,s]=e;return Qs(t,n,r,s)}else if(typeof e=="string")return HS[e];return e};function qS(e,t,n){const r=[],s=n||hy,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||We:t;a=Xs(l,a)}r.push(a)}return r}function GS(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(hg(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=qS(t,r,s),l=a.length,u=c=>{if(o&&c<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const h=Ar(e[d],e[d+1],c);return a[d](h)};return n?c=>u(It(e[0],e[i-1],c)):u}function JS(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Ar(0,t,r);e.push(Q(n,1,s))}}function YS(e){const t=[0];return JS(t,e.length-1),t}function QS(e,t){return e.map(n=>n*t)}function XS(e,t){return e.map(()=>t||my).splice(0,e.length-1)}function _o({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=KS(r)?r.map(Dh):Dh(r),i={done:!1,value:t[0]},o=QS(n&&n.length===t.length?n:YS(t),e),a=GS(o,t,{ease:Array.isArray(s)?s:XS(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const ZS=e=>{const t=({timestamp:n})=>e(n);return{start:()=>K.update(t,!0),stop:()=>sn(t),now:()=>_e.isProcessing?_e.timestamp:St.now()}},ex={decay:Ih,inertia:Ih,tween:_o,keyframes:_o,spring:py},tx=e=>e/100;class Hc extends cy{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Wc,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=Nc(n)?n:ex[n]||_o;let l,u;a!==_o&&typeof t[0]!="number"&&(l=Xs(tx,hy(t[0],t[1])),t=[0,100]);const c=a({...this.options,keyframes:t});i==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Og(c));const{calculatedDuration:d}=c,h=d+s,m=h*(r+1)-s;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:d}=r;if(this.startTime===null)return i.next(0);const{delay:h,repeat:m,repeatType:y,repeatDelay:v,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const f=this.currentTime-h*(this.speed>=0?1:-1),p=this.speed>=0?f<0:f>c;this.currentTime=Math.max(f,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let g=this.currentTime,S=i;if(m){const E=Math.min(this.currentTime,c)/d;let I=Math.floor(E),D=E%1;!D&&E>=1&&(D=1),D===1&&I--,I=Math.min(I,m+1),!!(I%2)&&(y==="reverse"?(D=1-D,v&&(D-=v/d)):y==="mirror"&&(S=o)),g=It(0,1,D)*d}const x=p?{done:!1,value:l[0]}:S.next(g);a&&(x.value=a(x.value));let{done:k}=x;!p&&u!==null&&(k=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return b&&s!==void 0&&(x.value=Go(l,this.options,s)),w&&w(x.value),b&&this.finish(),x}get duration(){const{resolved:t}=this;return t?At(t.calculatedDuration):0}get time(){return At(this.currentTime)}set time(t){t=Ct(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=At(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=ZS,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const nx=new Set(["opacity","clipPath","filter","transform"]);function rx(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=Dg(a,s);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:s,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const sx=vc(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),So=10,ix=2e4;function ox(e){return Nc(e.type)||e.type==="spring"||!Ig(e.ease)}function ax(e,t){const n=new Hc({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<ix;)r=n.sample(i),s.push(r.value),i+=So;return{times:void 0,keyframes:s,duration:i-So,ease:"linear"}}const gy={anticipate:qg,backInOut:Hg,circInOut:Jg};function lx(e){return e in gy}class Lh extends cy{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new uy(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&vo()&&lx(i)&&(i=gy[i]),ox(this.options)){const{onComplete:d,onUpdate:h,motionValue:m,element:y,...v}=this.options,w=ax(t,v);t=w.keyframes,t.length===1&&(t[1]=t[0]),r=w.duration,s=w.times,i=w.ease,o="keyframes"}const c=rx(a.owner.current,l,t,{...this.options,duration:r,times:s,ease:i});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(_h(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:d}=this.options;a.set(Go(t,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return At(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return At(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ct(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return We;const{animation:r}=n;_h(r,t)}return We}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:d,element:h,...m}=this.options,y=new Hc({...m,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),v=Ct(this.time);u.setWithVelocity(y.sample(v-So).value,y.sample(v).value,So)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return sx()&&r&&nx.has(r)&&!l&&!u&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const ux={type:"spring",stiffness:500,damping:25,restSpeed:10},cx=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),dx={type:"keyframes",duration:.8},hx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fx=(e,{keyframes:t})=>t.length>2?dx:Un.has(e)?e.startsWith("scale")?cx(t[1]):ux:hx;function px({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const qc=(e,t,n,r={},s,i)=>o=>{const a=Oc(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ct(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};px(a)||(c={...c,...fx(e,c)}),c.duration&&(c.duration=Ct(c.duration)),c.repeatDelay&&(c.repeatDelay=Ct(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),d&&!i&&t.get()!==void 0){const h=Go(c.keyframes,a);if(h!==void 0)return K.update(()=>{c.onUpdate(h),c.onComplete()}),new N_([])}return!i&&Lh.supports(c)?new Lh(c):new Hc(c)};function mx({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function yy(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const u=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const h=e.getValue(d,(i=e.latestValues[d])!==null&&i!==void 0?i:null),m=l[d];if(m===void 0||c&&mx(c,d))continue;const y={delay:n,...Oc(o||{},d)};let v=!1;if(window.MotionHandoffAnimation){const f=Fg(e);if(f){const p=window.MotionHandoffAnimation(f,d,K);p!==null&&(y.startTime=p,v=!0)}}Gl(e,d),h.start(qc(d,h,m,e.shouldReduceMotion&&Ug.has(d)?{type:!1}:y,e,v));const w=h.animation;w&&u.push(w)}return a&&Promise.all(u).then(()=>{K.update(()=>{a&&q_(e,a)})}),u}function tu(e,t,n={}){var r;const s=qo(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(yy(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=i;return gx(e,t,c+u,d,h,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(n.delay)])}function gx(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(yx).forEach((u,c)=>{u.notify("AnimationStart",t),o.push(tu(u,t,{...i,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function yx(e,t){return e.sortNodePosition(t)}function vx(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>tu(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=tu(e,t,n);else{const s=typeof t=="function"?qo(e,t,n.custom):t;r=Promise.all(yy(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const wx=_c.length;function vy(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?vy(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<wx;n++){const r=_c[n],s=e.props[r];(Ns(s)||s===!1)&&(t[r]=s)}return t}const _x=[...wc].reverse(),Sx=wc.length;function xx(e){return t=>Promise.all(t.map(({animation:n,options:r})=>vx(e,n,r)))}function kx(e){let t=xx(e),n=Mh(),r=!0;const s=l=>(u,c)=>{var d;const h=qo(e,c,l==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:m,transitionEnd:y,...v}=h;u={...u,...v,...y}}return u};function i(l){t=l(e)}function o(l){const{props:u}=e,c=vy(e.parent)||{},d=[],h=new Set;let m={},y=1/0;for(let w=0;w<Sx;w++){const f=_x[w],p=n[f],g=u[f]!==void 0?u[f]:c[f],S=Ns(g),x=f===l?p.isActive:null;x===!1&&(y=w);let k=g===c[f]&&g!==u[f]&&S;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),p.protectedKeys={...m},!p.isActive&&x===null||!g&&!p.prevProp||Ko(g)||typeof g=="boolean")continue;const b=Ex(p.prevProp,g);let E=b||f===l&&p.isActive&&!k&&S||w>y&&S,I=!1;const D=Array.isArray(g)?g:[g];let fe=D.reduce(s(f),{});x===!1&&(fe={});const{prevResolvedValues:Mt={}}=p,dn={...Mt,...fe},Mr=ue=>{E=!0,h.has(ue)&&(I=!0,h.delete(ue)),p.needsAnimating[ue]=!0;const C=e.getValue(ue);C&&(C.liveStyle=!1)};for(const ue in dn){const C=fe[ue],L=Mt[ue];if(m.hasOwnProperty(ue))continue;let M=!1;Kl(C)&&Kl(L)?M=!jg(C,L):M=C!==L,M?C!=null?Mr(ue):h.add(ue):C!==void 0&&h.has(ue)?Mr(ue):p.protectedKeys[ue]=!0}p.prevProp=g,p.prevResolvedValues=fe,p.isActive&&(m={...m,...fe}),r&&e.blockInitialAnimation&&(E=!1),E&&(!(k&&b)||I)&&d.push(...D.map(ue=>({animation:ue,options:{type:f}})))}if(h.size){const w={};h.forEach(f=>{const p=e.getBaseTarget(f),g=e.getValue(f);g&&(g.liveStyle=!0),w[f]=p??null}),d.push({animation:w})}let v=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(d):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Mh(),r=!0}}}function Ex(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!jg(t,e):!1}function pn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Mh(){return{animate:pn(!0),whileInView:pn(),whileHover:pn(),whileTap:pn(),whileDrag:pn(),whileFocus:pn(),exit:pn()}}class cn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Tx extends cn{constructor(t){super(t),t.animationState||(t.animationState=kx(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ko(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let bx=0;class Px extends cn{constructor(){super(...arguments),this.id=bx++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Cx={animation:{Feature:Tx},exit:{Feature:Px}};function Ms(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Zs(e){return{point:{x:e.pageX,y:e.pageY}}}const Ax=e=>t=>Dc(t)&&e(t,Zs(t));function ds(e,t,n,r){return Ms(e,t,Ax(n),r)}const $h=(e,t)=>Math.abs(e-t);function Rx(e,t){const n=$h(e.x,t.x),r=$h(e.y,t.y);return Math.sqrt(n**2+r**2)}class wy{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Oa(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=Rx(d.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:y}=d,{timestamp:v}=_e;this.history.push({...y,timestamp:v});const{onStart:w,onMove:f}=this.handlers;h||(w&&w(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),f&&f(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=ja(h,this.transformPagePoint),K.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Oa(d.type==="pointercancel"?this.lastMoveEventInfo:ja(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,w),y&&y(d,w)},!Dc(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Zs(t),a=ja(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=_e;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(t,Oa(a,this.history)),this.removeListeners=Xs(ds(this.contextWindow,"pointermove",this.handlePointerMove),ds(this.contextWindow,"pointerup",this.handlePointerUp),ds(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),sn(this.updatePoint)}}function ja(e,t){return t?{point:t(e.point)}:e}function Uh(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Oa({point:e},t){return{point:e,delta:Uh(e,_y(t)),offset:Uh(e,jx(t)),velocity:Ox(t,.1)}}function jx(e){return e[0]}function _y(e){return e[e.length-1]}function Ox(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=_y(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Ct(t)));)n--;if(!r)return{x:0,y:0};const i=At(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Sy=1e-4,Nx=1-Sy,Ix=1+Sy,xy=.01,Dx=0-xy,Lx=0+xy;function He(e){return e.max-e.min}function Mx(e,t,n){return Math.abs(e-t)<=n}function Vh(e,t,n,r=.5){e.origin=r,e.originPoint=Q(t.min,t.max,e.origin),e.scale=He(n)/He(t),e.translate=Q(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Nx&&e.scale<=Ix||isNaN(e.scale))&&(e.scale=1),(e.translate>=Dx&&e.translate<=Lx||isNaN(e.translate))&&(e.translate=0)}function hs(e,t,n,r){Vh(e.x,t.x,n.x,r?r.originX:void 0),Vh(e.y,t.y,n.y,r?r.originY:void 0)}function Fh(e,t,n){e.min=n.min+t.min,e.max=e.min+He(t)}function $x(e,t,n){Fh(e.x,t.x,n.x),Fh(e.y,t.y,n.y)}function Bh(e,t,n){e.min=t.min-n.min,e.max=e.min+He(t)}function fs(e,t,n){Bh(e.x,t.x,n.x),Bh(e.y,t.y,n.y)}function Ux(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Q(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Q(n,e,r.max):Math.min(e,n)),e}function zh(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Vx(e,{top:t,left:n,bottom:r,right:s}){return{x:zh(e.x,n,s),y:zh(e.y,t,r)}}function Wh(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Fx(e,t){return{x:Wh(e.x,t.x),y:Wh(e.y,t.y)}}function Bx(e,t){let n=.5;const r=He(e),s=He(t);return s>r?n=Ar(t.min,t.max-r,e.min):r>s&&(n=Ar(e.min,e.max-s,t.min)),It(0,1,n)}function zx(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const nu=.35;function Wx(e=nu){return e===!1?e=0:e===!0&&(e=nu),{x:Kh(e,"left","right"),y:Kh(e,"top","bottom")}}function Kh(e,t,n){return{min:Hh(e,t),max:Hh(e,n)}}function Hh(e,t){return typeof e=="number"?e:e[t]||0}const qh=()=>({translate:0,scale:1,origin:0,originPoint:0}),dr=()=>({x:qh(),y:qh()}),Gh=()=>({min:0,max:0}),se=()=>({x:Gh(),y:Gh()});function Qe(e){return[e("x"),e("y")]}function ky({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Kx({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Hx(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Na(e){return e===void 0||e===1}function ru({scale:e,scaleX:t,scaleY:n}){return!Na(e)||!Na(t)||!Na(n)}function wn(e){return ru(e)||Ey(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ey(e){return Jh(e.x)||Jh(e.y)}function Jh(e){return e&&e!=="0%"}function xo(e,t,n){const r=e-n,s=t*r;return n+s}function Yh(e,t,n,r,s){return s!==void 0&&(e=xo(e,s,r)),xo(e,n,r)+t}function su(e,t=0,n=1,r,s){e.min=Yh(e.min,t,n,r,s),e.max=Yh(e.max,t,n,r,s)}function Ty(e,{x:t,y:n}){su(e.x,t.translate,t.scale,t.originPoint),su(e.y,n.translate,n.scale,n.originPoint)}const Qh=.999999999999,Xh=1.0000000000001;function qx(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&fr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Ty(e,o)),r&&wn(i.latestValues)&&fr(e,i.latestValues))}t.x<Xh&&t.x>Qh&&(t.x=1),t.y<Xh&&t.y>Qh&&(t.y=1)}function hr(e,t){e.min=e.min+t,e.max=e.max+t}function Zh(e,t,n,r,s=.5){const i=Q(e.min,e.max,s);su(e,t,n,i,r)}function fr(e,t){Zh(e.x,t.x,t.scaleX,t.scale,t.originX),Zh(e.y,t.y,t.scaleY,t.scale,t.originY)}function by(e,t){return ky(Hx(e.getBoundingClientRect(),t))}function Gx(e,t,n){const r=by(e,n),{scroll:s}=t;return s&&(hr(r.x,s.offset.x),hr(r.y,s.offset.y)),r}const Py=({current:e})=>e?e.ownerDocument.defaultView:null,Jx=new WeakMap;class Yx{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=se(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Zs(c).point)},i=(c,d)=>{const{drag:h,dragPropagation:m,onDragStart:y}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=B_(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qe(w=>{let f=this.getAxisMotionValue(w).get()||0;if(_t.test(f)){const{projection:p}=this.visualElement;if(p&&p.layout){const g=p.layout.layoutBox[w];g&&(f=He(g)*(parseFloat(f)/100))}}this.originPoint[w]=f}),y&&K.postRender(()=>y(c,d)),Gl(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(c,d)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:y,onDrag:v}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:w}=d;if(m&&this.currentDirection===null){this.currentDirection=Qx(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,w),this.updateAxis("y",d.point,w),this.visualElement.render(),v&&v(c,d)},a=(c,d)=>this.stop(c,d),l=()=>Qe(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new wy(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Py(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&K.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Ei(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Ux(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&ur(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Vx(s.layoutBox,n):this.constraints=!1,this.elastic=Wx(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qe(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=zx(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ur(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Gx(r,s.root,this.visualElement.getTransformPagePoint());let o=Fx(s.layout.layoutBox,i);if(n){const a=n(Kx(o));this.hasMutatedConstraints=!!a,a&&(o=ky(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Qe(c=>{if(!Ei(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:r?t[c]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(c,y)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Gl(this.visualElement,t),r.start(qc(t,r,0,n,this.visualElement,!1))}stopAnimation(){Qe(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Qe(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Qe(n=>{const{drag:r}=this.getProps();if(!Ei(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-Q(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ur(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Qe(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=Bx({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qe(o=>{if(!Ei(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Q(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;Jx.set(this.visualElement,this);const t=this.visualElement.current,n=ds(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ur(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),K.read(r);const o=Ms(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Qe(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=nu,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Ei(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Qx(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Xx extends cn{constructor(t){super(t),this.removeGroupControls=We,this.removeListeners=We,this.controls=new Yx(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||We}unmount(){this.removeGroupControls(),this.removeListeners()}}const ef=e=>(t,n)=>{e&&K.postRender(()=>e(t,n))};class Zx extends cn{constructor(){super(...arguments),this.removePointerDownListener=We}onPointerDown(t){this.session=new wy(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Py(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:ef(t),onStart:ef(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&K.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ds(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Wi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tf(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Hr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(O.test(e))e=parseFloat(e);else return e;const n=tf(e,t.target.x),r=tf(e,t.target.y);return`${n}% ${r}%`}},ek={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=on.parse(e);if(s.length>5)return r;const i=on.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=Q(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class tk extends T.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;S_(nk),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Wi.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||K.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),xc.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Cy(e){const[t,n]=cg(),r=T.useContext(fc);return _.jsx(tk,{...e,layoutGroup:r,switchLayoutGroup:T.useContext(vg),isPresent:t,safeToRemove:n})}const nk={borderRadius:{...Hr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hr,borderTopRightRadius:Hr,borderBottomLeftRadius:Hr,borderBottomRightRadius:Hr,boxShadow:ek};function rk(e,t,n){const r=Pe(e)?e:Ds(e);return r.start(qc("",r,t,n)),r.animation}function sk(e){return e instanceof SVGElement&&e.tagName!=="svg"}const ik=(e,t)=>e.depth-t.depth;class ok{constructor(){this.children=[],this.isDirty=!1}add(t){Lc(this.children,t),this.isDirty=!0}remove(t){Mc(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ik),this.isDirty=!1,this.children.forEach(t)}}function ak(e,t){const n=St.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(sn(r),e(i-t))};return K.read(r,!0),()=>sn(r)}const Ay=["TopLeft","TopRight","BottomLeft","BottomRight"],lk=Ay.length,nf=e=>typeof e=="string"?parseFloat(e):e,rf=e=>typeof e=="number"||O.test(e);function uk(e,t,n,r,s,i){s?(e.opacity=Q(0,n.opacity!==void 0?n.opacity:1,ck(r)),e.opacityExit=Q(t.opacity!==void 0?t.opacity:1,0,dk(r))):i&&(e.opacity=Q(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<lk;o++){const a=`border${Ay[o]}Radius`;let l=sf(t,a),u=sf(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||rf(l)===rf(u)?(e[a]=Math.max(Q(nf(l),nf(u),r),0),(_t.test(u)||_t.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Q(t.rotate||0,n.rotate||0,r))}function sf(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ck=Ry(0,.5,Gg),dk=Ry(.5,.95,We);function Ry(e,t,n){return r=>r<e?0:r>t?1:n(Ar(e,t,r))}function of(e,t){e.min=t.min,e.max=t.max}function Ye(e,t){of(e.x,t.x),of(e.y,t.y)}function af(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function lf(e,t,n,r,s){return e-=t,e=xo(e,1/n,r),s!==void 0&&(e=xo(e,1/s,r)),e}function hk(e,t=0,n=1,r=.5,s,i=e,o=e){if(_t.test(t)&&(t=parseFloat(t),t=Q(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Q(i.min,i.max,r);e===i&&(a-=t),e.min=lf(e.min,t,n,a,s),e.max=lf(e.max,t,n,a,s)}function uf(e,t,[n,r,s],i,o){hk(e,t[n],t[r],t[s],t.scale,i,o)}const fk=["x","scaleX","originX"],pk=["y","scaleY","originY"];function cf(e,t,n,r){uf(e.x,t,fk,n?n.x:void 0,r?r.x:void 0),uf(e.y,t,pk,n?n.y:void 0,r?r.y:void 0)}function df(e){return e.translate===0&&e.scale===1}function jy(e){return df(e.x)&&df(e.y)}function hf(e,t){return e.min===t.min&&e.max===t.max}function mk(e,t){return hf(e.x,t.x)&&hf(e.y,t.y)}function ff(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Oy(e,t){return ff(e.x,t.x)&&ff(e.y,t.y)}function pf(e){return He(e.x)/He(e.y)}function mf(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class gk{constructor(){this.members=[]}add(t){Lc(this.members,t),t.scheduleRender()}remove(t){if(Mc(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yk(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:h,skewX:m,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const _n={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Zr=typeof window<"u"&&window.MotionDebug!==void 0,Ia=["","X","Y","Z"],vk={visibility:"hidden"},gf=1e3;let wk=0;function Da(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Ny(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Fg(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",K,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Ny(r)}function Iy({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=wk++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Zr&&(_n.totalNodes=_n.resolvedTargetDeltas=_n.recalculatedProjection=0),this.nodes.forEach(xk),this.nodes.forEach(Pk),this.nodes.forEach(Ck),this.nodes.forEach(kk),Zr&&window.MotionDebug.record(_n)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ok)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new $c),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sk(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let d;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=ak(h,250),Wi.hasAnimatedSinceResize&&(Wi.hasAnimatedSinceResize=!1,this.nodes.forEach(vf))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||Nk,{onLayoutAnimationStart:w,onLayoutAnimationComplete:f}=c.getProps(),p=!this.targetLayout||!Oy(this.targetLayout,y)||m,g=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||h&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,g);const S={...Oc(v,"layout"),onPlay:w,onComplete:f};(c.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||vf(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,sn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ak),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ny(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yf);return}this.isUpdating||this.nodes.forEach(Tk),this.isUpdating=!1,this.nodes.forEach(bk),this.nodes.forEach(_k),this.nodes.forEach(Sk),this.clearAllSnapshots();const a=St.now();_e.delta=It(0,1e3/60,a-_e.timestamp),_e.timestamp=a,_e.isProcessing=!0,Ta.update.process(_e),Ta.preRender.process(_e),Ta.render.process(_e),_e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xc.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ek),this.sharedNodes.forEach(Rk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,K.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){K.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=se(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!jy(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||wn(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Ik(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return se();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Dk))){const{scroll:c}=this.root;c&&(hr(l.x,c.offset.x),hr(l.y,c.offset.y))}return l}removeElementScroll(o){var a;const l=se();if(Ye(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:h}=c;c!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Ye(l,o),hr(l.x,d.offset.x),hr(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=se();Ye(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&fr(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),wn(c.latestValues)&&fr(l,c.latestValues)}return wn(this.latestValues)&&fr(l,this.latestValues),l}removeTransform(o){const a=se();Ye(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!wn(u.latestValues))continue;ru(u.latestValues)&&u.updateSnapshot();const c=se(),d=u.measurePageBox();Ye(c,d),cf(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return wn(this.latestValues)&&cf(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=_e.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=se(),this.relativeTargetOrigin=se(),fs(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ye(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=se(),this.targetWithTransforms=se()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$x(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ye(this.target,this.layout.layoutBox),Ty(this.target,this.targetDelta)):Ye(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=se(),this.relativeTargetOrigin=se(),fs(this.relativeTargetOrigin,this.target,m.target),Ye(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Zr&&_n.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ru(this.parent.latestValues)||Ey(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===_e.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Ye(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;qx(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=se());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(af(this.prevProjectionDelta.x,this.projectionDelta.x),af(this.prevProjectionDelta.y,this.projectionDelta.y)),hs(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!mf(this.projectionDelta.x,this.prevProjectionDelta.x)||!mf(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Zr&&_n.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dr(),this.projectionDelta=dr(),this.projectionDeltaWithTransform=dr()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=dr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=se(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,v=m!==y,w=this.getStack(),f=!w||w.members.length<=1,p=!!(v&&!f&&this.options.crossfade===!0&&!this.path.some(Ok));this.animationProgress=0;let g;this.mixTargetDelta=S=>{const x=S/1e3;wf(d.x,o.x,x),wf(d.y,o.y,x),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fs(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jk(this.relativeTarget,this.relativeTargetOrigin,h,x),g&&mk(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=se()),Ye(g,this.relativeTarget)),v&&(this.animationValues=c,uk(c,u,this.latestValues,x,p,f)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(sn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=K.update(()=>{Wi.hasAnimatedSinceResize=!0,this.currentAnimation=rk(0,gf,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gf),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&Dy(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||se();const d=He(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=He(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Ye(a,l),fr(a,c),hs(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new gk),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Da("z",o,u,this.animationValues);for(let c=0;c<Ia.length;c++)Da(`rotate${Ia[c]}`,o,u,this.animationValues),Da(`skew${Ia[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vk;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Bi(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Bi(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!wn(this.latestValues)&&(v.transform=c?c({},""):"none",this.hasProjected=!1),v}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=yk(this.projectionDeltaWithTransform,this.treeScale,h),c&&(u.transform=c(h,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in yo){if(h[v]===void 0)continue;const{correct:w,applyTo:f}=yo[v],p=u.transform==="none"?h[v]:w(h[v],d);if(f){const g=f.length;for(let S=0;S<g;S++)u[f[S]]=p}else u[v]=p}return this.options.layoutId&&(u.pointerEvents=d===this?Bi(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(yf),this.root.sharedNodes.clear()}}}function _k(e){e.updateLayout()}function Sk(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Qe(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],m=He(h);h.min=r[d].min,h.max=h.min+m}):Dy(i,n.layoutBox,r)&&Qe(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],m=He(r[d]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+m)});const a=dr();hs(a,r,n.layoutBox);const l=dr();o?hs(l,e.applyTransform(s,!0),n.measuredBox):hs(l,r,n.layoutBox);const u=!jy(a);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:m}=d;if(h&&m){const y=se();fs(y,n.layoutBox,h.layoutBox);const v=se();fs(v,r,m.layoutBox),Oy(y,v)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=y,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function xk(e){Zr&&_n.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function kk(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ek(e){e.clearSnapshot()}function yf(e){e.clearMeasurements()}function Tk(e){e.isLayoutDirty=!1}function bk(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function vf(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Pk(e){e.resolveTargetDelta()}function Ck(e){e.calcProjection()}function Ak(e){e.resetSkewAndRotation()}function Rk(e){e.removeLeadSnapshot()}function wf(e,t,n){e.translate=Q(t.translate,0,n),e.scale=Q(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function _f(e,t,n,r){e.min=Q(t.min,n.min,r),e.max=Q(t.max,n.max,r)}function jk(e,t,n,r){_f(e.x,t.x,n.x,r),_f(e.y,t.y,n.y,r)}function Ok(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Nk={duration:.45,ease:[.4,0,.1,1]},Sf=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),xf=Sf("applewebkit/")&&!Sf("chrome/")?Math.round:We;function kf(e){e.min=xf(e.min),e.max=xf(e.max)}function Ik(e){kf(e.x),kf(e.y)}function Dy(e,t,n){return e==="position"||e==="preserve-aspect"&&!Mx(pf(t),pf(n),.2)}function Dk(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Lk=Iy({attachResizeListener:(e,t)=>Ms(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),La={current:void 0},Ly=Iy({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!La.current){const e=new Lk({});e.mount(window),e.setOptions({layoutScroll:!0}),La.current=e}return La.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Mk={pan:{Feature:Zx},drag:{Feature:Xx,ProjectionNode:Ly,MeasureLayout:Cy}};function Ef(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&K.postRender(()=>i(t,Zs(t)))}class $k extends cn{mount(){const{current:t}=this.node;t&&(this.unmount=M_(t,n=>(Ef(this.node,n,"Start"),r=>Ef(this.node,r,"End"))))}unmount(){}}class Uk extends cn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xs(Ms(this.node.current,"focus",()=>this.onFocus()),Ms(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Tf(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&K.postRender(()=>i(t,Zs(t)))}class Vk extends cn{mount(){const{current:t}=this.node;t&&(this.unmount=F_(t,n=>(Tf(this.node,n,"Start"),(r,{success:s})=>Tf(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const iu=new WeakMap,Ma=new WeakMap,Fk=e=>{const t=iu.get(e.target);t&&t(e)},Bk=e=>{e.forEach(Fk)};function zk({root:e,...t}){const n=e||document;Ma.has(n)||Ma.set(n,{});const r=Ma.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(Bk,{root:e,...t})),r[s]}function Wk(e,t,n){const r=zk(t);return iu.set(e,n),r.observe(e),()=>{iu.delete(e),r.unobserve(e)}}const Kk={some:0,all:1};class Hk extends cn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Kk[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),h=u?c:d;h&&h(l)};return Wk(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(qk(t,n))&&this.startObserver()}unmount(){}}function qk({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Gk={inView:{Feature:Hk},tap:{Feature:Vk},focus:{Feature:Uk},hover:{Feature:$k}},Jk={layout:{ProjectionNode:Ly,MeasureLayout:Cy}},ou={current:null},My={current:!1};function Yk(){if(My.current=!0,!!gc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ou.current=e.matches;e.addListener(t),t()}else ou.current=!1}const Qk=[...ly,Te,on],Xk=e=>Qk.find(ay(e)),bf=new WeakMap;function Zk(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Pe(s))e.addValue(r,s);else if(Pe(i))e.addValue(r,Ds(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Ds(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Pf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class e1{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Wc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=St.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,K.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=o;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Ho(n),this.isVariantNode=gg(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const y=h[m];l[m]!==void 0&&Pe(y)&&y.set(l[m],!1)}}mount(t){this.current=t,bf.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),My.current||Yk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ou.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){bf.delete(this.current),this.projection&&this.projection.unmount(),sn(this.notifyUpdate),sn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Un.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&K.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Rr){const n=Rr[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):se()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Pf.length;r++){const s=Pf[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Zk(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ds(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(iy(s)||Yg(s))?s=parseFloat(s):!Xk(s)&&on.test(n)&&(s=ny(t,n)),this.setBaseTarget(t,Pe(s)?s.get():s)),Pe(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=Ec(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Pe(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new $c),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class $y extends e1{constructor(){super(...arguments),this.KeyframeResolver=uy}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Pe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function t1(e){return window.getComputedStyle(e)}class n1 extends $y{constructor(){super(...arguments),this.type="html",this.renderInstance=Tg}readValueFromInstance(t,n){if(Un.has(n)){const r=zc(n);return r&&r.default||0}else{const r=t1(t),s=(xg(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return by(t,n)}build(t,n,r){Pc(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return jc(t,n,r)}}class r1 extends $y{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=se}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Un.has(n)){const r=zc(n);return r&&r.default||0}return n=bg.has(n)?n:Sc(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Ag(t,n,r)}build(t,n,r){Cc(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){Pg(t,n,r,s)}mount(t){this.isSVGTag=Rc(t.tagName),super.mount(t)}}const s1=(e,t)=>kc(e)?new r1(t):new n1(t,{allowProjection:e!==T.Fragment}),i1=R_({...Cx,...Gk,...Mk,...Jk},s1),ae=Kw(i1);function Jo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function o1(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}const a1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Gc extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class l1 extends Gc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Cf extends Gc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Af extends Gc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var au;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(au||(au={}));class u1{constructor(t,{headers:n={},customFetch:r,region:s=au.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=a1(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return o1(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:m}=r;m||(m=this.region);const y=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let v;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(h["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(h["Content-Type"]="application/json",v=JSON.stringify(u)):v=u;let w=c;d&&(o=new AbortController,i=setTimeout(()=>o.abort(),d),c?(w=o.signal,c.addEventListener("abort",()=>o.abort())):w=o.signal);const f=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:v,signal:w}).catch(x=>{throw new l1(x)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new Cf(f);if(!f.ok)throw new Af(f);let g=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return g==="application/json"?S=yield f.json():g==="application/octet-stream"||g==="application/pdf"?S=yield f.blob():g==="text/event-stream"?S=f:g==="multipart/form-data"?S=yield f.formData():S=yield f.text(),{data:S,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof Af||a instanceof Cf?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var c1=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},d1=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,c=i.statusText;if(i.ok){var d,h;if(n.method!=="HEAD"){var m;const f=await i.text();f===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?a=f:a=JSON.parse(f))}const v=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),w=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&w&&w.length>1&&(l=parseInt(w[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var y;const v=await i.text();try{o=JSON.parse(v),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,c="OK")}catch{i.status===404&&v===""?(u=204,c="No Content"):o={message:v}}if(o&&n.isMaybeSingle&&(!(o==null||(y=o.details)===null||y===void 0)&&y.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&n.shouldThrowOnError)throw new c1(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var u,c,d,h;const y=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",v=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";a=`${(d=i==null?void 0:i.name)!==null&&d!==void 0?d:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${y}`,v&&(a+=` (${v})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var m;a=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},h1=class extends d1{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Rf=new RegExp("[,()]");var Gn=class extends h1{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Rf.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Rf.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},f1=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new Gn({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((o,a)=>o.concat(Object.keys(a)),[]);if(i.length>0){const o=[...new Set(i)].map(a=>`"${a}"`);this.url.searchParams.set("columns",o.join(","))}}return new Gn({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Gn({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Gn({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Gn({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},p1=class Uy{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new f1(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Uy(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",u=n);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new Gn({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class m1{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const g1="2.89.0",y1=`realtime-js/${g1}`,Vy="1.0.0",v1="2.0.0",jf=Vy,lu=1e4,w1=1e3,_1=100;var Bt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Bt||(Bt={}));var ce;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ce||(ce={}));var ct;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ct||(ct={}));var uu;(function(e){e.websocket="websocket"})(uu||(uu={}));var xn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(xn||(xn={}));class S1{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+d.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(m),v=0;y.setUint8(v++,this.KINDS.userBroadcastPush),y.setUint8(v++,l.length),y.setUint8(v++,a.length),y.setUint8(v++,o.length),y.setUint8(v++,u.length),y.setUint8(v++,d.length),y.setUint8(v++,n),Array.from(l,f=>y.setUint8(v++,f.charCodeAt(0))),Array.from(a,f=>y.setUint8(v++,f.charCodeAt(0))),Array.from(o,f=>y.setUint8(v++,f.charCodeAt(0))),Array.from(u,f=>y.setUint8(v++,f.charCodeAt(0))),Array.from(d,f=>y.setUint8(v++,f.charCodeAt(0)));var w=new Uint8Array(m.byteLength+r.byteLength);return w.set(new Uint8Array(m),0),w.set(new Uint8Array(r),m.byteLength),w.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(t.slice(l,l+s));l=l+s;const c=r.decode(t.slice(l,l+i));l=l+i;const d=r.decode(t.slice(l,l+o));l=l+o;const h=t.slice(l,t.byteLength),m=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,y={type:this.BROADCAST_EVENT,event:c,payload:m};return o>0&&(y.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class Fy{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var F;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(F||(F={}));const Of=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=x1(o,e,t,s),i),{}):{}},x1=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?By(i,o):cu(o)},By=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return b1(t,n)}switch(e){case F.bool:return k1(t);case F.float4:case F.float8:case F.int2:case F.int4:case F.int8:case F.numeric:case F.oid:return E1(t);case F.json:case F.jsonb:return T1(t);case F.timestamp:return P1(t);case F.abstime:case F.date:case F.daterange:case F.int4range:case F.int8range:case F.money:case F.reltime:case F.text:case F.time:case F.timestamptz:case F.timetz:case F.tsrange:case F.tstzrange:return cu(t);default:return cu(t)}},cu=e=>e,k1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},E1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},T1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},b1=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>By(t,a))}return e},P1=e=>typeof e=="string"?e.replace(" ","T"):e,zy=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class $a{constructor(t,n,r={},s=lu){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Nf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Nf||(Nf={}));class ps{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ps.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ps.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ps.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(w=>w.presence_ref),m=d.map(w=>w.presence_ref),y=c.filter(w=>m.indexOf(w.presence_ref)<0),v=d.filter(w=>h.indexOf(w.presence_ref)<0);y.length>0&&(a[u]=y),v.length>0&&(l[u]=v)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(m=>m.presence_ref),h=c.filter(m=>d.indexOf(m.presence_ref)<0);t[a].unshift(...h)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var If;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(If||(If={}));var ms;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ms||(ms={}));var kt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(kt||(kt={}));class pr{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $a(this,ct.join,this.params,this.timeout),this.rejoinTimer=new Fy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ce.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ct.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ps(this),this.broadcastEndpointURL=zy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ce.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[ms.PRESENCE]&&this.bindings[ms.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(kt.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(kt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(kt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,w=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,f=[];for(let p=0;p<w;p++){const g=v[p],{filter:{event:S,schema:x,table:k,filter:b}}=g,E=m&&m[p];if(E&&E.event===S&&pr.isFilterValueEqual(E.schema,x)&&pr.isFilterValueEqual(E.table,k)&&pr.isFilterValueEqual(E.filter,b))f.push(Object.assign(Object.assign({},g),{id:E.id}));else{this.unsubscribe(),this.state=ce.errored,t==null||t(kt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,t&&t(kt.SUBSCRIBED);return}}).receive("error",m=>{this.state=ce.errored,t==null||t(kt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(kt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===ce.joined&&t===ms.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ce.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ct.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new $a(this,ct.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ce.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new $a(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>_1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=ct;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,v,w;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(v=m.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(m=>m.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,v,w,f,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,x=(y=m.filter)===null||y===void 0?void 0:y.event;return S&&((v=n.ids)===null||v===void 0?void 0:v.includes(S))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const S=(p=(f=m==null?void 0:m.filter)===null||f===void 0?void 0:f.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return S==="*"||S===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:v,table:w,commit_timestamp:f,type:p,errors:g}=y;h=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:f,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(y))}m.callback(h,r)})}_isClosed(){return this.state===ce.closed}_isJoined(){return this.state===ce.joined}_isJoining(){return this.state===ce.joining}_isLeaving(){return this.state===ce.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&pr.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ct.close,{},t)}_onError(t){this._on(ct.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ce.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Of(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Of(t.columns,t.old_record)),n}}const Ua=()=>{},Ti={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},C1=[1e3,2e3,5e3,1e4],A1=1e4,R1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class j1{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lu,this.transport=null,this.heartbeatIntervalMs=Ti.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ua,this.ref=0,this.reconnectTimer=null,this.vsn=jf,this.logger=Ua,this.conn=null,this.sendBuffer=[],this.serializer=new S1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${uu.websocket}`,this.httpEndpoint=zy(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=m1.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Bt.connecting:return xn.Connecting;case Bt.open:return xn.Open;case Bt.closing:return xn.Closing;default:return xn.Closed}}isConnected(){return this.connectionState()===xn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new pr(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(w1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ti.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Bt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Bt.open||this.conn.readyState===Bt.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ct.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([R1],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:y1};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ct.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Fy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ti.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,l,u,c,d,h,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:lu,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ti.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Ua,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:jf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>C1[y-1]||A1,this.vsn){case Vy:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(y,v)=>v(JSON.stringify(y)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(y,v)=>v(JSON.parse(y));break;case v1:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var $s=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function O1(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function N1(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function I1(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const a=O1(e.baseUrl,r,s),l=await N1(e.auth),u=await t(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const m=d?h:void 0,y=m==null?void 0:m.error;throw new $s((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function bi(e){return e.join("")}var D1=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:bi(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bi(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bi(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bi(e.namespace)}`}),!0}catch(t){if(t instanceof $s&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof $s&&n.status===409)return;throw n}}};function Fn(e){return e.join("")}var L1=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fn(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fn(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fn(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fn(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fn(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fn(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof $s&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof $s&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},M1=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=I1({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new D1(this.client,t),this.tableOps=new L1(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Yo=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function J(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var $1=class extends Yo{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},du=class extends Yo{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Jc=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),U1=()=>Response,hu=e=>{if(Array.isArray(e))return e.map(n=>hu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=hu(r)}),t},V1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},F1=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function B1(e,t){if(Us(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z1(e){var t=B1(e,"string");return Us(t)=="symbol"?t:t+""}function W1(e,t,n){return(t=z1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Df(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Df(Object(n),!0).forEach(function(r){W1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Df(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Va=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},K1=async(e,t,n)=>{e instanceof await U1()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,i=(r==null?void 0:r.statusCode)||s+"";t(new $1(Va(r),s,i))}).catch(r=>{t(new du(Va(r),r))}):t(new du(Va(e),e))},H1=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(V1(r)?(s.headers=N({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),N(N({},s),n))};async function ei(e,t,n,r,s,i){return new Promise((o,a)=>{e(n,H1(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>K1(l,a,r))})}async function Vs(e,t,n,r){return ei(e,"GET",t,n,r)}async function lt(e,t,n,r,s){return ei(e,"POST",t,r,s,n)}async function fu(e,t,n,r,s){return ei(e,"PUT",t,r,s,n)}async function q1(e,t,n,r){return ei(e,"HEAD",t,N(N({},n),{},{noResolveJson:!0}),r)}async function Yc(e,t,n,r,s){return ei(e,"DELETE",t,r,s,n)}var G1=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(J(t))return{data:null,error:t};throw t}}};let Wy;Wy=Symbol.toStringTag;var J1=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Wy]="BlobDownloadBuilder",this.promise=null}asStream(){return new G1(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(J(t))return{data:null,error:t};throw t}}};const Y1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Q1=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Jc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let i;const o=N(N({},Lf),r);let a=N(N({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=N(N({},a),r.headers));const u=s._removeEmptyFolders(t),c=s._getFinalPath(u),d=await(e=="PUT"?fu:lt)(s.fetch,`${s.url}/object/${c}`,i,N({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(J(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const u=N({upsert:Lf.upsert},r),c=N(N({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:i,fullPath:(await fu(s.fetch,a.toString(),l,{headers:c})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(J(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=N({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await lt(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),a=o.searchParams.get("token");if(!a)throw new Yo("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await lt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await lt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),i=await lt(r.fetch,`${r.url}/object/sign/${s}`,N({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await lt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>N(N({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),o=()=>Vs(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new J1(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:hu(await Vs(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await q1(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(J(r)&&r instanceof du){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(e){var t=this;try{return{data:await Yc(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=N(N(N({},Y1),t),{},{prefix:e||""});return{data:await lt(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=N({},e);return{data:await lt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Ky="2.89.0",Hy={"X-Client-Info":`storage-js/${Ky}`};var X1=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=N(N({},Hy),t),this.fetch=Jc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Vs(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Vs(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await lt(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await fu(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await lt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Yc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Z1=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=N(N({},Hy),t),this.fetch=Jc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await lt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await Vs(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Yc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!F1(e))throw new Yo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new M1({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const Qc={"X-Client-Info":`storage-js/${Ky}`,"Content-Type":"application/json"};var qy=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ve(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Fa=class extends qy{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},eE=class extends qy{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Xc=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Mf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nE=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";t(new Fa(Mf(i),r,o))}).catch(()=>{const i=r+"";t(new Fa(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";t(new Fa(s.statusText||`HTTP ${r} error`,r,i))}}else t(new eE(Mf(e),e))},rE=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(tE(r)?(s.headers=N({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,N(N({},s),n)):s};async function sE(e,t,n,r,s,i){return new Promise((o,a)=>{e(n,rE(t,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>nE(l,a,r))})}async function Fe(e,t,n,r,s){return sE(e,"POST",t,r,s,n)}var iE=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=N(N({},Qc),t),this.fetch=Xc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Fe(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Fe(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Fe(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Fe(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}},oE=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=N(N({},Qc),t),this.fetch=Xc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Fe(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Fe(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Fe(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Fe(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Fe(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}},aE=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=N(N({},Qc),t),this.fetch=Xc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Fe(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Fe(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Fe(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Fe(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}},lE=class extends aE{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new uE(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},uE=class extends iE{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,N(N({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,N(N({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new cE(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},cE=class extends oE{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,N(N({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,N(N({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,N(N({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,N(N({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,N(N({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},dE=class extends X1{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new Q1(this.url,this.headers,e,this.fetch)}get vectors(){return new lE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Z1(this.url+"/iceberg",this.headers,this.fetch)}};const Gy="2.89.0",Jn=30*1e3,pu=3,Ba=pu*Jn,hE="http://localhost:9999",fE="supabase.auth.token",pE={"X-Client-Info":`gotrue-js/${Gy}`},mu="X-Supabase-Api-Version",Jy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gE=10*60*1e3;class Fs extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function R(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class yE extends Fs{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function vE(e){return R(e)&&e.name==="AuthApiError"}class kn extends Fs{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Lt extends Fs{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class $e extends Lt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wE(e){return R(e)&&e.name==="AuthSessionMissingError"}class Bn extends Lt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pi extends Lt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ci extends Lt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _E(e){return R(e)&&e.name==="AuthImplicitGrantRedirectError"}class $f extends Lt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class SE extends Lt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class gu extends Lt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function za(e){return R(e)&&e.name==="AuthRetryableFetchError"}class Uf extends Lt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class yu extends Lt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ko="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vf=` 	
\r=`.split(""),xE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Vf.length;t+=1)e[Vf[t].charCodeAt(0)]=-2;for(let t=0;t<ko.length;t+=1)e[ko[t].charCodeAt(0)]=t;return e})();function Ff(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ko[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ko[r]),t.queuedBits-=6}}function Yy(e,t,n){const r=xE[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Bf(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{TE(o,r,n)};for(let o=0;o<e.length;o+=1)Yy(e.charCodeAt(o),s,i);return t.join("")}function kE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function EE(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}kE(r,t)}}function TE(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Sr(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Yy(e.charCodeAt(s),n,r);return new Uint8Array(t)}function bE(e){const t=[];return EE(e,n=>t.push(n)),new Uint8Array(t)}function Cn(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Ff(s,n,r)),Ff(null,n,r),t.join("")}function PE(e){return Math.round(Date.now()/1e3)+e}function CE(){return Symbol("auth-callback")}const ve=()=>typeof window<"u"&&typeof document<"u",mn={tested:!1,writable:!1},Qy=()=>{if(!ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mn.tested)return mn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mn.tested=!0,mn.writable=!0}catch{mn.tested=!0,mn.writable=!1}return mn.writable};function AE(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Xy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),RE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Yn=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},gn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ye=async(e,t)=>{await e.removeItem(t)};class Qo{constructor(){this.promise=new Qo.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Qo.promiseConstructor=Promise;function Wa(e){const t=e.split(".");if(t.length!==3)throw new yu("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!mE.test(t[r]))throw new yu("JWT not in base64url format");return{header:JSON.parse(Bf(t[0])),payload:JSON.parse(Bf(t[1])),signature:Sr(t[2]),raw:{header:t[0],payload:t[1]}}}async function jE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function OE(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function NE(e){return("0"+e.toString(16)).substr(-2)}function IE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,NE).join("")}async function DE(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function LE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await DE(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zn(e,t,n=!1){const r=IE();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Yn(e,`${t}-code-verifier`,s);const i=await LE(r);return[i,r===i?"plain":"s256"]}const ME=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $E(e){const t=e.headers.get(mu);if(!t||!t.match(ME))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function UE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function VE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const FE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wn(e){if(!FE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ka(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function BE(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function zf(e){return JSON.parse(JSON.stringify(e))}const Sn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zE=[502,503,504];async function Wf(e){var t;if(!RE(e))throw new gu(Sn(e),0);if(zE.includes(e.status))throw new gu(Sn(e),e.status);let n;try{n=await e.json()}catch(i){throw new kn(Sn(i),i)}let r;const s=$E(e);if(s&&s.getTime()>=Jy["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Uf(Sn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new $e}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Uf(Sn(n),e.status,n.weak_password.reasons);throw new yE(Sn(n),e.status||500,r)}const WE=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function j(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[mu]||(i[mu]=Jy["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await KE(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function KE(e,t,n,r,s,i){const o=WE(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new gu(Sn(l),0)}if(a.ok||await Wf(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Wf(l)}}function it(e){var t;let n=null;GE(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=PE(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Kf(e){const t=it(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Kt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function HE(e){return{data:e,error:null}}function qE(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Jo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Hf(e){return e}function GE(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ha=["global","local","others"];class JE{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Xy(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Ha[0]){if(Ha.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ha.join(", ")}`);try{return await j(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await j(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Kt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Jo(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await j(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:qE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(R(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await j(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Kt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await j(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Hf});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(R(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Wn(t);try{return await j(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Wn(t);try{return await j(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Kt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Wn(t);try{return await j(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Kt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Wn(t.userId);try{const{data:n,error:r}=await j(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(R(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Wn(t.userId),Wn(t.id);try{return{data:await j(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await j(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Hf});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(R(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await j(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await j(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await j(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await j(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await j(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}}function qf(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Kn={debug:!!(globalThis&&Qy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class YE extends Zy{}async function QE(e,t,n){Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new YE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Kn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function XE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ev(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function ZE(e){return parseInt(e,16)}function eT(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function tT(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=ev(e.address),y=c?`${c}://${r}`:r,v=e.statement?`${e.statement}
`:"",w=`${y} wants you to sign in with your Ethereum account:
${m}

${v}`;let f=`URI: ${d}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(f+=`
Expiration Time: ${s.toISOString()}`),a&&(f+=`
Not Before: ${a.toISOString()}`),l&&(f+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);p+=`
- ${g}`}f+=p}return`${w}
${f}`}class oe extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Eo extends oe{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function nT({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new oe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new oe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new oe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new oe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new oe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new oe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new oe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(tv(o)){if(i.rp.id!==o)return new oe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new oe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function rT({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new oe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(tv(r)){if(n.rpId!==r)return new oe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class sT{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const iT=new sT;function oT(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Jo(e,["challenge","user","excludeCredentials"]),i=Sr(t).buffer,o=Object.assign(Object.assign({},n),{id:Sr(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Sr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function aT(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Jo(e,["challenge","allowCredentials"]),s=Sr(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Sr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function lT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Cn(new Uint8Array(e.response.attestationObject)),clientDataJSON:Cn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function uT(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Cn(new Uint8Array(s.authenticatorData)),clientDataJSON:Cn(new Uint8Array(s.clientDataJSON)),signature:Cn(new Uint8Array(s.signature)),userHandle:s.userHandle?Cn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tv(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Gf(){var e,t;return!!(ve()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function cT(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Eo("Browser returned unexpected credential type",t)}:{data:null,error:new Eo("Empty credential response",t)}}catch(t){return{data:null,error:nT({error:t,options:e})}}}async function dT(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Eo("Browser returned unexpected credential type",t)}:{data:null,error:new Eo("Empty credential response",t)}}catch(t){return{data:null,error:rT({error:t,options:e})}}}const hT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},fT={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function To(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=To(a,o):r[i]=To(o)}else r[i]=o}return r}function pT(e,t){return To(hT,e,t||{})}function mT(e,t){return To(fT,e,t||{})}class gT{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=s??iT.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=pT(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await cT({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=mT(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await dT(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new kn("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Fs("rpId is required for WebAuthn authentication")};try{if(!Gf())return{data:null,error:new kn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new kn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Fs("rpId is required for WebAuthn registration")};try{if(!Gf())return{data:null,error:new kn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new kn("Unexpected error in register",o)}}}}XE();const yT={url:hE,storageKey:fE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Jf(e,t,n){return await n()}const Hn={};class Bs{get jwks(){var t,n;return(n=(t=Hn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Hn[this.storageKey]=Object.assign(Object.assign({},Hn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Hn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Hn[this.storageKey]=Object.assign(Object.assign({},Hn[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},yT),t);if(this.storageKey=i.storageKey,this.instanceID=(n=Bs.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Bs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ve()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new JE({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Xy(i.fetch),this.lock=i.lock||Jf,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&ve()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=QE:this.lock=Jf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Qy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qf(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=qf(this.memoryStorage)),ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Gy}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(ve()&&(n=AE(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),ve()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),_E(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return R(n)?this._returnResult({error:n}):this._returnResult({error:new kn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:it}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(R(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:d,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await zn(this.storage,this.storageKey)),i=await j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:it})}else if("phone"in t){const{phone:c,password:d,options:h}=t;i=await j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:it})}else throw new Pi("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await ye(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await ye(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await j(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Kf})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await j(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Kf})}else throw new Pi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Bn;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(R(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,l,u,c,d,h;let m,y;if("message"in t)m=t.message,y=t.signature;else{const{chain:v,wallet:w,statement:f,options:p}=t;let g;if(ve())if(typeof w=="object")g=w;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")g=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=w}const S=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href),x=await g.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||x.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=ev(x[0]);let b=(r=p==null?void 0:p.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!b){const I=await g.request({method:"eth_chainId"});b=ZE(I)}const E={domain:S.host,address:k,statement:f,uri:S.href,version:"1",chainId:b,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=tT(E),y=await g.request({method:"personal_sign",params:[eT(m),k]})}try{const{data:v,error:w}=await j(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:it});if(w)throw w;if(!v||!v.session||!v.user){const f=new Bn;return this._returnResult({data:{user:null,session:null},error:f})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:w})}catch(v){if(R(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var n,r,s,i,o,a,l,u,c,d,h,m;let y,v;if("message"in t)y=t.message,v=t.signature;else{const{chain:w,wallet:f,statement:p,options:g}=t;let S;if(ve())if(typeof f=="object")S=f;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))S=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof f!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=f}const x=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const k=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),p?{statement:p}:null));let b;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")b=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)b=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)y=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),v=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${x.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((d=(c=g==null?void 0:g.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...g.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const k=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=k}}try{const{data:w,error:f}=await j(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Cn(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:it});if(f)throw f;if(!w||!w.session||!w.user){const p=new Bn;return this._returnResult({data:{user:null,session:null},error:p})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:f})}catch(w){if(R(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const n=await gn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new SE;const{data:i,error:o}=await j(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:it});if(await ye(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Bn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await ye(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await j(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:it}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Bn;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(R(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await zn(this.storage,this.storageKey));const{error:d}=await j(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await j(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Pi("You must provide either an email or phone number.")}catch(a){if(await ye(this.storage,`${this.storageKey}-code-verifier`),R(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await j(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:it});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(R(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await zn(this.storage,this.storageKey));const u=await j(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:HE});return!((i=u.data)===null||i===void 0)&&i.url&&ve()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await ye(this.storage,`${this.storageKey}-code-verifier`),R(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new $e;const{error:s}=await j(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(R(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await j(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await j(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Pi("You must provide either an email or phone number and a type")}catch(n){if(R(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await gn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ba:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await gn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Ka()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=BE(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await j(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $e}:await j(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Kt})})}catch(n){if(R(n))return wE(n)&&(await this._removeSession(),await ye(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new $e;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await zn(this.storage,this.storageKey));const{data:u,error:c}=await j(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Kt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await ye(this.storage,`${this.storageKey}-code-verifier`),R(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $e;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Wa(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(R(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new $e;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(R(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!ve())throw new Ci("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ci(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $f("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ci("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $f("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Ci("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const m=h-c;m*1e3<=Jn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const y=h-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const f={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:f,redirectType:t.type},error:null})}catch(r){if(R(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await gn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(vE(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await ye(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=CE(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await zn(this.storage,this.storageKey,!0));try{return await j(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await ye(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await j(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return ve()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(R(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=t,d=await j(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:it}),{data:h,error:m}=d;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Bn}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await ye(this.storage,`${this.storageKey}-code-verifier`),R(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await j(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await OE(async s=>(s>0&&await jE(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await j(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:it})),(s,i)=>{const o=200*Math.pow(2,s);return i&&za(i)&&Date.now()+o-r<Jn})}catch(r){if(this._debug(n,"error",r),R(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ve()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await gn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await gn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Yn(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Ka()}else if(s&&!s.user&&!s.user){const o=await gn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ye(this.storage,this.storageKey+"-user"),await Yn(this.storage,this.storageKey,s)):s.user=Ka()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ba;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Ba}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),za(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new $e;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Qo;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new $e;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),R(i)){const o={data:null,error:i};return za(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ye(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Yn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=zf(s);await Yn(this.storage,this.storageKey,i)}else{const s=zf(n);await Yn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ye(this.storage,this.storageKey),await ye(this.storage,this.storageKey+"-code-verifier"),await ye(this.storage,this.storageKey+"-user"),this.userStorage&&await ye(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ve()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Jn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Jn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Jn}ms, refresh threshold is ${pu} ticks`),s<=pu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Zy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ve()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await zn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await j(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await j(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?lT(t.webauthn.credential_response):uT(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await j(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await j(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:oT(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:aT(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Wa(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await j(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new $e})})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new $e});const o=await j(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ve()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new $e});const o=await j(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ve()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await j(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new $e})})}catch(t){if(R(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await j(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $e})})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+gE>s)return r;const{data:i,error:o}=await j(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Wa(r);n!=null&&n.allowExpired||UE(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const c=VE(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,bE(`${a}.${l}`)))throw new yu("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}}Bs.nextInstanceID={};const vT=Bs,wT="2.89.0";let es="";typeof Deno<"u"?es="deno":typeof document<"u"?es="web":typeof navigator<"u"&&navigator.product==="ReactNative"?es="react-native":es="node";const _T={"X-Client-Info":`supabase-js-${es}/${wT}`},ST={headers:_T},xT={schema:"public"},kT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ET={};function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function TT(e,t){if(zs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bT(e){var t=TT(e,"string");return zs(t)=="symbol"?t:t+""}function PT(e,t,n){return(t=bT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yf(Object(n),!0).forEach(function(r){PT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const CT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),AT=()=>Headers,RT=(e,t,n)=>{const r=CT(n),s=AT();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,ee(ee({},o),{},{headers:u}))}};function jT(e){return e.endsWith("/")?e:e+"/"}function OT(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:ee(ee({},l),s),auth:ee(ee({},u),i),realtime:ee(ee({},c),o),storage:{},global:ee(ee(ee({},d),a),{},{headers:ee(ee({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function NT(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(jT(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var IT=class extends vT{constructor(e){super(e)}},DT=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=NT(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:xT,realtime:ET,auth:ee(ee({},kT),{},{storageKey:o}),global:ST},l=OT(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=RT(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ee({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new p1(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new dE(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new u1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IT({url:this.authUrl.href,headers:ee(ee({},h),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new j1(this.realtimeUrl.href,ee(ee({},e),{},{params:ee(ee({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const LT=(e,t,n)=>new DT(e,t,n);function MT(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}MT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $T="https://gtuzqsdikvncaetifepc.supabase.co",UT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd0dXpxc2Rpa3ZuY2FldGlmZXBjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxNzk4MDAsImV4cCI6MjA4MTc1NTgwMH0.vzwmRxkc3SElrDasAU7Lgr9WN-2fTXHzDhNtUEwznc4",G=LT($T,UT),qa="lejla_authenticated",Ga="lejla_cache_timeline",Ja="lejla_cache_letters",Ya="lejla_cache_flowers";function qn(e){try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch{return null}}function Qa(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch{}}const VT="lejla_photos",Ws="photos";function nv(){return new Promise((e,t)=>{const n=indexedDB.open(VT,1);n.onupgradeneeded=()=>{n.result.createObjectStore(Ws)},n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)})}async function FT(e){try{const t=await nv();return new Promise(n=>{const s=t.transaction(Ws,"readonly").objectStore(Ws).get(e);s.onsuccess=()=>n(s.result||void 0),s.onerror=()=>n(void 0)})}catch{return}}async function BT(e,t){try{(await nv()).transaction(Ws,"readwrite").objectStore(Ws).put(t,e)}catch{}}const q={getCachedTimeline:()=>qn(Ga),getTimeline:async()=>{const{data:e,error:t}=await G.from("timeline_entries").select("id, date, title, description").order("date",{ascending:!0});if(t)return console.error("Error fetching timeline:",t),qn(Ga)||[];const{data:n}=await G.from("timeline_entries").select("id").not("photo","is",null),r=new Set((n||[]).map(i=>i.id)),s=(e||[]).map(i=>({id:i.id,date:i.date,title:i.title,description:i.description,hasPhoto:r.has(i.id)}));return Qa(Ga,s),s},getTimelineEntryPhoto:async e=>{const t=await FT(e);if(t)return t;const{data:n,error:r}=await G.from("timeline_entries").select("photo").eq("id",e).single();if(r||!n)return;const s=n.photo||void 0;return s&&BT(e,s),s},setTimeline:async e=>{if(await G.from("timeline_entries").delete().neq("id","00000000-0000-0000-0000-000000000000"),e.length>0){const{error:t}=await G.from("timeline_entries").insert(e.map(n=>({id:n.id,date:n.date,title:n.title,description:n.description,photo:n.photo||null})));t&&console.error("Error saving timeline:",t)}},addTimelineEntry:async e=>{const{error:t}=await G.from("timeline_entries").insert({id:e.id,date:e.date,title:e.title,description:e.description,photo:e.photo||null});t&&console.error("Error adding timeline entry:",t)},updateTimelineEntry:async e=>{const{error:t}=await G.from("timeline_entries").update({date:e.date,title:e.title,description:e.description,photo:e.photo||null}).eq("id",e.id);t&&console.error("Error updating timeline entry:",t)},deleteTimelineEntry:async e=>{const{error:t}=await G.from("timeline_entries").delete().eq("id",e);t&&console.error("Error deleting timeline entry:",t)},getCachedLetters:()=>qn(Ja),getLetters:async()=>{const{data:e,error:t}=await G.from("letters").select("*").order("created_at",{ascending:!1});if(t)return console.error("Error fetching letters:",t),qn(Ja)||[];const n=(e||[]).map(r=>({id:r.id,title:r.title,content:r.content,isOpened:r.is_opened,createdAt:r.created_at}));return Qa(Ja,n),n},setLetters:async e=>{if(await G.from("letters").delete().neq("id","00000000-0000-0000-0000-000000000000"),e.length>0){const{error:t}=await G.from("letters").insert(e.map(n=>({id:n.id,title:n.title,content:n.content,is_opened:n.isOpened,created_at:n.createdAt})));t&&console.error("Error saving letters:",t)}},addLetter:async e=>{const{error:t}=await G.from("letters").insert({id:e.id,title:e.title,content:e.content,is_opened:e.isOpened,created_at:e.createdAt});t&&console.error("Error adding letter:",t)},updateLetter:async e=>{const{error:t}=await G.from("letters").update({title:e.title,content:e.content,is_opened:e.isOpened}).eq("id",e.id);t&&console.error("Error updating letter:",t)},deleteLetter:async e=>{const{error:t}=await G.from("letters").delete().eq("id",e);t&&console.error("Error deleting letter:",t)},getCachedFlowers:()=>qn(Ya),getFlowers:async()=>{const{data:e,error:t}=await G.from("flowers").select("*").order("created_at",{ascending:!0});if(t)return console.error("Error fetching flowers:",t),qn(Ya)||[];const n=(e||[]).map(r=>({id:r.id,message:r.message,isBloomed:r.is_bloomed,type:r.type}));return Qa(Ya,n),n},setFlowers:async e=>{if(await G.from("flowers").delete().neq("id","00000000-0000-0000-0000-000000000000"),e.length>0){const{error:t}=await G.from("flowers").insert(e.map(n=>({id:n.id,message:n.message,is_bloomed:n.isBloomed,type:n.type})));t&&console.error("Error saving flowers:",t)}},addFlower:async e=>{const{error:t}=await G.from("flowers").insert({id:e.id,message:e.message,is_bloomed:e.isBloomed,type:e.type});t&&console.error("Error adding flower:",t)},updateFlower:async e=>{const{error:t}=await G.from("flowers").update({message:e.message,is_bloomed:e.isBloomed,type:e.type}).eq("id",e.id);t&&console.error("Error updating flower:",t)},deleteFlower:async e=>{const{error:t}=await G.from("flowers").delete().eq("id",e);t&&console.error("Error deleting flower:",t)},getPassword:async()=>{const{data:e,error:t}=await G.from("app_settings").select("password_hash").limit(1).single();return t||!e?"":e.password_hash},setPassword:async e=>{await G.from("app_settings").delete().neq("id","00000000-0000-0000-0000-000000000000");const{error:t}=await G.from("app_settings").insert({password_hash:e});t&&console.error("Error saving password:",t)},isAuthenticated:()=>localStorage.getItem(qa)==="true",setAuthenticated:e=>{localStorage.setItem(qa,e.toString())},logout:()=>{localStorage.removeItem(qa)}},Zc=()=>crypto.randomUUID();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rv=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>T.createElement("svg",{ref:l,...WT,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:rv("lucide",s),...a},[...o.map(([u,c])=>T.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(e,t)=>{const n=T.forwardRef(({className:r,...s},i)=>T.createElement(KT,{ref:i,iconNode:t,className:rv(`lucide-${zT(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=Je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=Je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=Je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=Je("Flower2",[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=Je("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=Je("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=Je("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=Je("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=Je("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=Je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=Je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=Je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function XT({onAuthenticate:e,hasExistingPassword:t}){const[n,r]=T.useState(""),s=!t,[i,o]=T.useState(""),[a,l]=T.useState(""),u=async c=>{if(c.preventDefault(),o(""),s){if(n.length<4){o("Lozinka mora imati najmanje 4 znaka");return}if(n!==a){o("Lozinke se ne podudaraju");return}await q.setPassword(n),e()}else{const d=await q.getPassword();n===d?e():(o("Netana lozinka"),r(""))}};return _.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:_.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-sm",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsx(ae.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"inline-block",children:_.jsx(GT,{className:"w-16 h-16 text-primary-400 mx-auto",fill:"currentColor"})}),_.jsx("h1",{className:"font-serif text-3xl text-primary-600 mt-4",children:"Lejla & Hamza "}),_.jsx("p",{className:"text-primary-400 mt-2",children:s?"Postavi lozinku za zatitu uspomena":"Unesi lozinku za nastavak"})]}),_.jsxs("form",{onSubmit:u,className:"space-y-4",children:[_.jsxs("div",{className:"relative",children:[_.jsx(Qf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-primary-300"}),_.jsx("input",{type:"password",value:n,onChange:c=>r(c.target.value),placeholder:s?"Kreiraj lozinku":"Lozinka",className:"w-full pl-10 pr-4 py-3 rounded-xl border border-primary-200 focus:border-primary-400 focus:ring-2 focus:ring-primary-100 outline-none transition-all bg-white/50",autoFocus:!0})]}),s&&_.jsxs("div",{className:"relative",children:[_.jsx(Qf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-primary-300"}),_.jsx("input",{type:"password",value:a,onChange:c=>l(c.target.value),placeholder:"Potvrdi lozinku",className:"w-full pl-10 pr-4 py-3 rounded-xl border border-primary-200 focus:border-primary-400 focus:ring-2 focus:ring-primary-100 outline-none transition-all bg-white/50"})]}),i&&_.jsx(ae.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-500 text-sm text-center",children:i}),_.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-primary-400 to-secondary-400 text-white rounded-xl font-medium hover:from-primary-500 hover:to-secondary-500 transition-all shadow-lg shadow-primary-200",children:s?"Postavi lozinku":"Ui"})]})]})})}function ZT({currentPage:e,onNavigate:t}){const n=[{id:"timeline",icon:qT,label:"Naa pria"},{id:"letters",icon:vu,label:"Pisma"},{id:"garden",icon:sv,label:"Bata"}];return _.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-md border-t border-primary-100 px-4 py-2 z-50",children:_.jsx("div",{className:"flex justify-around items-center max-w-md mx-auto",children:n.map(({id:r,icon:s,label:i})=>_.jsxs("button",{onClick:()=>t(r),className:"relative flex flex-col items-center py-2 px-4",children:[e===r&&_.jsx(ae.div,{layoutId:"nav-indicator",className:"absolute inset-0 bg-primary-100 rounded-xl",transition:{type:"spring",duration:.5}}),_.jsx(s,{className:`relative w-6 h-6 transition-colors ${e===r?"text-primary-500":"text-gray-400"}`}),_.jsx("span",{className:`relative text-xs mt-1 transition-colors ${e===r?"text-primary-500 font-medium":"text-gray-400"}`,children:i})]},r))})})}function eb(){const[e,t]=T.useState(()=>q.getCachedTimeline()||[]),[n,r]=T.useState(()=>!q.getCachedTimeline()),[s,i]=T.useState(!1);T.useEffect(()=>{o()},[]);const o=async()=>{const c=e.length>0;c||r(!0),c&&i(!0);const d=await q.getTimeline();t(d),r(!1),i(!1)};return{entries:e,isLoading:n,isSyncing:s,addEntry:async c=>{t(d=>[...d,c].sort((h,m)=>new Date(h.date).getTime()-new Date(m.date).getTime()));try{await q.addTimelineEntry(c)}catch(d){console.error("Failed to add entry:",d),await o()}},updateEntry:async c=>{t(d=>d.map(h=>h.id===c.id?c:h));try{await q.updateTimelineEntry(c)}catch(d){console.error("Failed to update entry:",d),await o()}},deleteEntry:async c=>{t(d=>d.filter(h=>h.id!==c));try{await q.deleteTimelineEntry(c)}catch(d){console.error("Failed to delete entry:",d),await o()}},refresh:o}}function tb(){const[e,t]=T.useState(()=>q.getCachedLetters()||[]),[n,r]=T.useState(()=>!q.getCachedLetters()),[s,i]=T.useState(!1);T.useEffect(()=>{o()},[]);const o=async()=>{const c=e.length>0;c||r(!0),c&&i(!0);const d=await q.getLetters();t(d),r(!1),i(!1)};return{letters:e,isLoading:n,isSyncing:s,addLetter:async c=>{t(d=>[c,...d]);try{await q.addLetter(c)}catch(d){console.error("Failed to add letter:",d),await o()}},updateLetter:async c=>{t(d=>d.map(h=>h.id===c.id?c:h));try{await q.updateLetter(c)}catch(d){console.error("Failed to update letter:",d),await o()}},deleteLetter:async c=>{t(d=>d.filter(h=>h.id!==c));try{await q.deleteLetter(c)}catch(d){console.error("Failed to delete letter:",d),await o()}},refresh:o}}function nb(){const[e,t]=T.useState(()=>q.getCachedFlowers()||[]),[n,r]=T.useState(()=>!q.getCachedFlowers()),[s,i]=T.useState(!1);T.useEffect(()=>{o()},[]);const o=async()=>{const c=e.length>0;c||r(!0),c&&i(!0);const d=await q.getFlowers();t(d),r(!1),i(!1)};return{flowers:e,isLoading:n,isSyncing:s,addFlower:async c=>{t(d=>[...d,c]);try{await q.addFlower(c)}catch(d){console.error("Failed to add flower:",d),await o()}},updateFlower:async c=>{t(d=>d.map(h=>h.id===c.id?c:h));try{await q.updateFlower(c)}catch(d){console.error("Failed to update flower:",d),await o()}},deleteFlower:async c=>{t(d=>d.filter(h=>h.id!==c));try{await q.deleteFlower(c)}catch(d){console.error("Failed to delete flower:",d),await o()}},refresh:o}}function rb({entry:e,index:t,onEdit:n,onDelete:r}){const[s,i]=T.useState(e.photo),[o,a]=T.useState(!1),l=T.useRef(null);T.useEffect(()=>{if(!e.hasPhoto||e.photo)return;const c=new IntersectionObserver(([d])=>{d.isIntersecting&&(c.disconnect(),a(!0),q.getTimelineEntryPhoto(e.id).then(h=>{i(h),a(!1)}))},{rootMargin:"200px"});return l.current&&c.observe(l.current),()=>c.disconnect()},[e.id,e.hasPhoto,e.photo]);const u=Math.min(t*.1,.5);return _.jsxs(ae.div,{ref:l,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u},className:"relative pl-10",children:[_.jsx("div",{className:"absolute left-2.5 top-2 w-3 h-3 rounded-full bg-primary-400 border-2 border-white shadow"}),_.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-md shadow-primary-50",children:[_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-xs text-primary-400",children:new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),_.jsx("h3",{className:"font-serif text-lg text-primary-600",children:e.title})]}),_.jsxs("div",{className:"flex gap-1",children:[_.jsx("button",{onClick:()=>n(e),className:"p-1.5 text-gray-400 hover:text-primary-500 transition-colors",children:_.jsx(QT,{className:"w-4 h-4"})}),_.jsx("button",{onClick:()=>r(e.id),className:"p-1.5 text-gray-400 hover:text-red-500 transition-colors",children:_.jsx(iv,{className:"w-4 h-4"})})]})]}),o&&_.jsx("div",{className:"w-full h-48 rounded-lg mb-2 bg-primary-50 animate-pulse"}),s&&_.jsx("img",{src:s,alt:e.title,className:"w-full h-48 object-cover rounded-lg mb-2"}),e.description&&_.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:e.description})]})]},e.id)}function sb(){const{entries:e,isLoading:t,isSyncing:n,addEntry:r,updateEntry:s,deleteEntry:i}=eb(),[o,a]=T.useState(!1),[l,u]=T.useState(null),[c,d]=T.useState({date:"",title:"",description:"",photo:""}),h=()=>{d({date:"",title:"",description:"",photo:""}),a(!1),u(null)},m=f=>{var g;const p=(g=f.target.files)==null?void 0:g[0];if(p){const S=new FileReader;S.onloadend=()=>{d(x=>({...x,photo:S.result}))},S.readAsDataURL(p)}},y=async f=>{if(f.preventDefault(),!(!c.date||!c.title)){if(l)await s({id:l,...c});else{const p={id:Zc(),...c};await r(p)}h()}},v=f=>{d({date:f.date,title:f.title,description:f.description,photo:f.photo||""}),u(f.id),a(!0)},w=async f=>{await i(f)};return _.jsxs(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("h2",{className:"font-serif text-xl text-primary-600",children:"Naa pria"}),n&&_.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary-300 animate-pulse"})]}),!o&&_.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-1 text-sm bg-primary-100 text-primary-600 px-3 py-1.5 rounded-lg hover:bg-primary-200 transition-colors",children:[_.jsx(td,{className:"w-4 h-4"}),"Dodaj"]})]}),o&&_.jsxs(ae.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:y,className:"bg-white rounded-xl p-4 shadow-lg shadow-primary-100 mb-6 space-y-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Datum"}),_.jsx("input",{type:"date",value:c.date,onChange:f=>d(p=>({...p,date:f.target.value})),className:"w-full px-3 py-2 rounded-lg border border-primary-200 focus:border-primary-400 outline-none",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Naslov"}),_.jsx("input",{type:"text",value:c.title,onChange:f=>d(p=>({...p,title:f.target.value})),placeholder:"Prvi dejt, Prvi poljubac...",className:"w-full px-3 py-2 rounded-lg border border-primary-200 focus:border-primary-400 outline-none",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Opis"}),_.jsx("textarea",{value:c.description,onChange:f=>d(p=>({...p,description:f.target.value})),placeholder:"Ispriaj priu...",rows:3,className:"w-full px-3 py-2 rounded-lg border border-primary-200 focus:border-primary-400 outline-none resize-none"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Slika"}),_.jsxs("label",{className:"flex items-center justify-center gap-2 w-full px-3 py-2 rounded-lg border border-dashed border-primary-300 cursor-pointer hover:bg-primary-50 transition-colors",children:[_.jsx(JT,{className:"w-5 h-5 text-primary-400"}),_.jsx("span",{className:"text-sm text-primary-500",children:c.photo?"Promijeni sliku":"Dodaj sliku"}),_.jsx("input",{type:"file",accept:"image/*",onChange:m,className:"hidden"})]}),c.photo&&_.jsx("img",{src:c.photo,alt:"Preview",className:"mt-2 w-full h-32 object-cover rounded-lg"})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",onClick:h,className:"flex-1 py-2 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50",children:_.jsx(bo,{className:"w-4 h-4 mx-auto"})}),_.jsx("button",{type:"submit",className:"flex-1 py-2 bg-primary-400 text-white rounded-lg hover:bg-primary-500",children:_.jsx(ed,{className:"w-4 h-4 mx-auto"})})]})]}),t?_.jsxs("div",{className:"text-center py-12",children:[_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-400 mx-auto"}),_.jsx("p",{className:"text-primary-300 mt-3",children:"Uitavanje uspomena..."})]}):e.length===0?_.jsxs("div",{className:"text-center py-12 text-primary-300",children:[_.jsx(HT,{className:"w-12 h-12 mx-auto mb-3"}),_.jsx("p",{children:"Jo nema uspomena"}),_.jsx("p",{className:"text-sm",children:"Dodaj prvu uspomenu"})]}):_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gradient-to-b from-primary-300 to-secondary-300"}),_.jsx("div",{className:"space-y-6",children:e.map((f,p)=>_.jsx(rb,{entry:f,index:p,onEdit:v,onDelete:w},f.id))})]})]})}function ib(){const{letters:e,isLoading:t,isSyncing:n,addLetter:r,updateLetter:s,deleteLetter:i}=tb(),[o,a]=T.useState(!1),[l,u]=T.useState(null),[c,d]=T.useState({title:"",content:""}),h=()=>{d({title:"",content:""}),a(!1)},m=async w=>{if(w.preventDefault(),!c.title||!c.content)return;const f={id:Zc(),title:c.title,content:c.content,isOpened:!1,createdAt:new Date().toISOString()};await r(f),h()},y=async w=>{w.isOpened||await s({...w,isOpened:!0}),u(w)},v=async(w,f)=>{f.stopPropagation(),await i(w)};return _.jsxs(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("h2",{className:"font-serif text-xl text-primary-600",children:"Ljubavna pisma"}),n&&_.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary-300 animate-pulse"})]}),!o&&_.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-1 text-sm bg-primary-100 text-primary-600 px-3 py-1.5 rounded-lg hover:bg-primary-200 transition-colors",children:[_.jsx(td,{className:"w-4 h-4"}),"Dodaj"]})]}),o&&_.jsxs(ae.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:m,className:"bg-white rounded-xl p-4 shadow-lg shadow-primary-100 mb-6 space-y-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Naslov"}),_.jsx("input",{type:"text",value:c.title,onChange:w=>d(f=>({...f,title:w.target.value})),placeholder:"Pismo za tebe...",className:"w-full px-3 py-2 rounded-lg border border-primary-200 focus:border-primary-400 outline-none",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Sadraj"}),_.jsx("textarea",{value:c.content,onChange:w=>d(f=>({...f,content:w.target.value})),placeholder:"Pii od srca...",rows:6,className:"w-full px-3 py-2 rounded-lg border border-primary-200 focus:border-primary-400 outline-none resize-none",required:!0})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",onClick:h,className:"flex-1 py-2 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50",children:_.jsx(bo,{className:"w-4 h-4 mx-auto"})}),_.jsx("button",{type:"submit",className:"flex-1 py-2 bg-primary-400 text-white rounded-lg hover:bg-primary-500",children:_.jsx(ed,{className:"w-4 h-4 mx-auto"})})]})]}),t?_.jsxs("div",{className:"text-center py-12",children:[_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-400 mx-auto"}),_.jsx("p",{className:"text-primary-300 mt-3",children:"Uitavanje pisama..."})]}):e.length===0?_.jsxs("div",{className:"text-center py-12 text-primary-300",children:[_.jsx(vu,{className:"w-12 h-12 mx-auto mb-3"}),_.jsx("p",{children:"Jo nema pisama"}),_.jsx("p",{className:"text-sm",children:"Napii prvo ljubavno pismo"})]}):_.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.map((w,f)=>_.jsxs(ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:Math.min(f*.05,.3)},onClick:()=>y(w),className:"relative bg-white rounded-xl p-4 shadow-md shadow-primary-50 cursor-pointer hover:shadow-lg transition-shadow",children:[_.jsx("button",{onClick:p=>v(w.id,p),className:"absolute top-2 right-2 p-1 text-gray-300 hover:text-red-500 transition-colors",children:_.jsx(iv,{className:"w-3 h-3"})}),_.jsxs("div",{className:"flex flex-col items-center text-center",children:[w.isOpened?_.jsx(YT,{className:"w-8 h-8 text-primary-300 mb-2"}):_.jsx(ae.div,{animate:{rotate:[0,-5,5,0]},transition:{duration:2,repeat:1/0},children:_.jsx(vu,{className:"w-8 h-8 text-primary-400 mb-2"})}),_.jsx("h3",{className:"font-medium text-sm text-primary-600 line-clamp-2",children:w.title})]})]},w.id))}),_.jsx(yc,{children:l&&_.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>u(null),children:_.jsxs(ae.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:w=>w.stopPropagation(),className:"bg-white rounded-2xl p-6 max-w-sm w-full max-h-[80vh] overflow-y-auto shadow-2xl",children:[_.jsxs("div",{className:"flex justify-between items-start mb-4",children:[_.jsx("h3",{className:"font-serif text-xl text-primary-600",children:l.title}),_.jsx("button",{onClick:()=>u(null),className:"p-1 text-gray-400 hover:text-gray-600",children:_.jsx(bo,{className:"w-5 h-5"})})]}),_.jsx("div",{className:"prose prose-sm text-gray-600 whitespace-pre-wrap",children:l.content})]})})})]})}const Ai={rose:"",tulip:"",daisy:"",lily:"",sunflower:""},ob={rose:"from-red-400 to-pink-500",tulip:"from-pink-400 to-purple-500",daisy:"from-yellow-300 to-orange-400",lily:"from-purple-400 to-pink-500",sunflower:"from-yellow-400 to-amber-500"};function ab(){const{flowers:e,isLoading:t,isSyncing:n,addFlower:r,updateFlower:s,deleteFlower:i}=nb(),[o,a]=T.useState(!1),[l,u]=T.useState(null),[c,d]=T.useState({message:"",type:"rose"}),h=()=>{d({message:"",type:"rose"}),a(!1)},m=async w=>{if(w.preventDefault(),!c.message)return;const f={id:Zc(),message:c.message,isBloomed:!1,type:c.type};await r(f),h()},y=async w=>{w.isBloomed||await s({...w,isBloomed:!0}),u(w)},v=async w=>{await i(w),u(null)};return _.jsxs(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("h2",{className:"font-serif text-xl text-primary-600",children:"Bata ljubavi"}),n&&_.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary-300 animate-pulse"})]}),!o&&_.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-1 text-sm bg-primary-100 text-primary-600 px-3 py-1.5 rounded-lg hover:bg-primary-200 transition-colors",children:[_.jsx(td,{className:"w-4 h-4"}),"Posadi"]})]}),o&&_.jsxs(ae.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:m,className:"bg-white rounded-xl p-4 shadow-lg shadow-primary-100 mb-6 space-y-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Vrsta cvijeta"}),_.jsx("div",{className:"flex gap-2 justify-center",children:Object.keys(Ai).map(w=>_.jsx("button",{type:"button",onClick:()=>d(f=>({...f,type:w})),className:`text-2xl p-2 rounded-lg transition-all ${c.type===w?"bg-primary-100 scale-110":"hover:bg-gray-100"}`,children:Ai[w]},w))})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Poruka"}),_.jsx("textarea",{value:c.message,onChange:w=>d(f=>({...f,message:w.target.value})),placeholder:"Razlog zato te volim...",rows:3,className:"w-full px-3 py-2 rounded-lg border border-primary-200 focus:border-primary-400 outline-none resize-none",required:!0})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",onClick:h,className:"flex-1 py-2 border border-gray-300 rounded-lg text-gray-600 hover:bg-gray-50",children:_.jsx(bo,{className:"w-4 h-4 mx-auto"})}),_.jsx("button",{type:"submit",className:"flex-1 py-2 bg-primary-400 text-white rounded-lg hover:bg-primary-500",children:_.jsx(ed,{className:"w-4 h-4 mx-auto"})})]})]}),t?_.jsxs("div",{className:"text-center py-12",children:[_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-400 mx-auto"}),_.jsx("p",{className:"text-primary-300 mt-3",children:"Uitavanje bate..."})]}):e.length===0?_.jsxs("div",{className:"text-center py-12 text-primary-300",children:[_.jsx(sv,{className:"w-12 h-12 mx-auto mb-3"}),_.jsx("p",{children:"Bata je prazna"}),_.jsx("p",{className:"text-sm",children:"Posadi prvi cvijet"})]}):_.jsx("div",{className:"grid grid-cols-3 gap-3",children:e.map((w,f)=>_.jsx(ae.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:Math.min(f*.05,.3),type:"spring"},onClick:()=>y(w),className:"aspect-square flex items-center justify-center cursor-pointer",children:w.isBloomed?_.jsx(ae.span,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},className:"text-4xl",children:Ai[w.type]}):_.jsx(ae.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:`w-8 h-8 rounded-full bg-gradient-to-br ${ob[w.type]} opacity-50`})},w.id))}),_.jsx(yc,{children:l&&_.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>u(null),children:_.jsxs(ae.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},onClick:w=>w.stopPropagation(),className:"bg-white rounded-2xl p-6 max-w-xs w-full text-center shadow-2xl",children:[_.jsx("span",{className:"text-5xl block mb-4",children:Ai[l.type]}),_.jsx("p",{className:"text-gray-600 mb-4",children:l.message}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>v(l.id),className:"flex-1 py-2 text-sm text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:"Obrii"}),_.jsx("button",{onClick:()=>u(null),className:"flex-1 py-2 text-sm bg-primary-100 text-primary-600 rounded-lg hover:bg-primary-200 transition-colors",children:"Zatvori"})]})]})})})]})}function lb(){const[e,t]=T.useState(!1),[n,r]=T.useState(!0),[s,i]=T.useState("timeline"),[o,a]=T.useState(!0);T.useEffect(()=>{l()},[]);const l=async()=>{const c=q.isAuthenticated(),d=await q.getPassword();c&&d&&t(!0),r(!!d),a(!1)},u=()=>{t(!0),q.setAuthenticated(!0)};return o?_.jsx("div",{className:"min-h-screen flex items-center justify-center",children:_.jsx("div",{className:"animate-pulse text-primary-400",children:_.jsx("svg",{className:"w-12 h-12",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})})})}):e?_.jsxs("div",{className:"min-h-screen pb-20",children:[_.jsx("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-primary-100 px-4 py-3",children:_.jsx("h1",{className:"text-center font-serif text-2xl text-primary-600",children:"Lejla & Hamza "})}),_.jsx("main",{className:"px-4 py-6",children:_.jsxs(yc,{mode:"wait",children:[s==="timeline"&&_.jsx(sb,{},"timeline"),s==="letters"&&_.jsx(ib,{},"letters"),s==="garden"&&_.jsx(ab,{},"garden")]})}),_.jsx(ZT,{currentPage:s,onNavigate:i})]}):_.jsx(XT,{onAuthenticate:u,hasExistingPassword:n})}Xa.createRoot(document.getElementById("root")).render(_.jsx(xv.StrictMode,{children:_.jsx(lb,{})}));
